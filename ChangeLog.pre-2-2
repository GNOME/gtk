Thu Aug 20 20:08:15 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk/gtktext.c ([un]draw_cursor): Check to see if we've
	computed our geometry yet, and if not, ignore the request.

	  gtk/gtktext.c (correct_cache_insert): Fiddled around]
	some more. All the bug-test codes seem to work at once
	now. (fingers crossed...)

Thu Aug 20 13:04:08 PDT 1998 Manish Singh <yosh@gimp.org>

	* gdk/gdkrgb.c: silly visual fixes

	* gtk/testgtk.c: call gdk_rgb_init so color preview test actually
	works

1998-08-20  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkhandlebox.c (gtk_handle_box_button_changed): Do not do
	anything if the event's window is not the bin window.
	(gtk_handle_box_motion): Likewise.

1998-08-19  Raph Levien  <raph@gimp.org>

	* gtk/testgtk.c (create_color_preview): pushed the colormap and
	visual so it would work better with GdkRgb.

1998-08-19  Raph Levien  <raph@gimp.org>

	* gdk/gdkrgb.c: fixed some bugs in the 565_d mode, and added a
	4bpp static_color mode (for vga displays). Also fixed a '64' value
	in the dither matrix, which was causing one pixel out of 16k to be
	dithered wrong.

	* gtk/gtkpreview.{c,h}: Changed it to work with GdkRgb, gutting
	most of the contents. This is an API change - any apps that relied
	on the internal structure of GtkPreview will need some change -
	most notably in the use of reserved colors. The Gimp needed
	changes in this regard.

Wed Aug 19 00:11:14 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c (gtk_init): allow argument parsing in gtk without
	G_ENABLE_DEBUG being defined (specifically --gtk-module= and
	--g-fatal-warnings), noticed by miguel.

Tue Aug 18 17:54:40 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkrc.c (gtk_rc_parse_file): use g_get_current_dir() instead of
	getcwd().

 	* gdk/gdkprivate.h:
	* gdk/gdkglobals.c:
 	* gdk/gdkwindow.c:
	* gdk/gdk.c:
	* gtk/gtkwindow.c: 
	* gtk/gtkitemfactory.c: 
	dropped gdk_progname, use g_get_prgname()/g_set_prgname() instead.

	* gtk/gtkselection.c:
	* gtk/gtkpreview.c:
	* gtk/gtkobject.c: 
	* gtk/gtkmain.c: 
	* gtk/gtktypeutils.c: indentation fixes due to g_message() use.

	* gdk/gdkrgb.c: exchanged occourances of g_print with g_message.

Tue Aug 18 17:22:22 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtknotebook.c (gtk_notebook_switch_focus_tab): 
	* gtk/gtknotebook.c (gtk_notebook_update_labels): fix for sigsegv
	in case of show_tabs == NULL

Tue Aug 18 03:54:43 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c	(gtk_init): restricted the --g*fatal-* arguments
	to --g-fatal-warnings again. this option now causes log levels of
	WARNING and CRITICAL to abort().

	* gdk/gdk.c: 
	* gdk/gdkdnd.c: 
	* gdk/gdkcc.c: 
	* gdk/gdkfont.c: 
	* gdk/gdkwindow.c:
	* gdk/gdkvisual.c:
	* gtk/gtkwidget.c:
	* gtk/gtktypeutils.c:
	* gtk/gtktree.c:
	* gtk/gtkfontsel.c:
	* gtk/gtkmain.c:
	* gtk/gtkobject.c:
	* gtk/gtkpreview.c:
	* gtk/gtkselection.c:
	* gtk/gtktext.c:
	* gtk/gtktree.c:
	* gtk/gtktreeitem.c:
	did a global search&replace to substitute g_print() calls with
 	g_message(). libraries shouldn't use printf(), g_print() or
	g_printerr() at all.
	a bunch of the replacements should probably be wrapped into the
	G{D|T}K_NOTE() macros, so they are special cased for debugging
	purposes in a sane way, avoiding all the nasty #ifdef DEBUG_MY_TEDDY
	things.

	* gdk/gdkdnd.c: added copyright notice.

Mon Aug 17 17:28:00  Raph Levien  <raph@gtk.org>

	* gdk/gdkrgb.c: Further speedups of the 565_d case. It's
	impressively fast now - about 4.65 Mpix/s on an IBM TP 600
	running a PII 233. It's synced with the 0.0.5 release of
	GdkRgb.

Tue Aug 18 00:29:13 1998  Lars Hamann  <lars@gtk.org>

        * gtk/gtkclist.h:
        (struct _GtkCListClass): new class methods:
        (sort_list) (insert_row) (remove_row) (set_cell_contents)

        * gtk/gtkclist.c :
        (cell_empty) (cell_set_text) (cell_set_pixmap) (cell_set_pixtext):
        removed and replaced by (set_cell_contents)
        (set_cell_contents): function for class method set_cell_contents
        (real_insert_row): function for class method insert_row
        (real_remoce_row): function for class method remove_row
        (real_sort_list): function for class method sort_list
        (default_compare): fix to avoid problems with cell types != CELL_TEXT

        * gtk/gtkctree.h :
        (gtk_ctree_export_to_gnode): new function to export a ctree as gnode 
        (gtk_ctree_node_is_visible): new function to return visibility state
        of a node
	(gtk_ctree_show_stub): new function to set visibility of root stub

        renamed functions :
        (gtk_ctree_insert) -> (gtk_ctree_insert_node)
        (gtk_ctree_remove) -> (gtk_ctree_remove_node)
        (gtk_ctree_find_glist_ptr) -> (gtk_ctree_find_node_ptr)
        (gtk_ctree_set_text) -> (gtk_ctree_node_set_text)
        (gtk_ctree_set_pixmap) -> (gtk_ctree_node_set_pixmap)
        (gtk_ctree_set_pixtext) -> (gtk_ctree_node_set_pixtext)
        (gtk_ctree_set_shift) -> (gtk_ctree_node_set_shift)
        (gtk_ctree_get_cell_type) -> (gtk_ctree_node_get_cell_type)
        (gtk_ctree_get_text) -> (gtk_ctree_node_get_text)
        (gtk_ctree_get_pixmap) -> (gtk_ctree_node_get_pixmap)
        (gtk_ctree_get_pixtext) -> (gtk_ctree_node_get_pixtext)
        (gtk_ctree_set_foreground) -> (gtk_ctree_node_set_foreground)
        (gtk_ctree_set_background) -> (gtk_ctree_node_set_background)
        (gtk_ctree_set_row_data) -> (gtk_ctree_node_set_row_data)
        (gtk_ctree_set_row_data_full) -> (gtk_ctree_node_set_row_data_full)
        (gtk_ctree_get_row_data) -> (gtk_ctree_node_get_row_data)
        (gtk_ctree_moveto) -> (gtk_ctree_node_moveto)
        (gtk_ctree_sort) -> (gtk_ctree_sort_node)
	(gtk_ctree_is_visibe) -> (gtk_ctree_is_viewable)

        * gtk/gtkctree.c :
        (cell_empty) (cell_set_text) (cell_set_pixmap) (cell_set_pixtext):
        removed and replaced by (set_cell_contents)
        (set_cell_contents): function for class method set_cell_contents
        (real_insert_row): function for class method insert_row
        (real_remoce_row): function for class method remove_row
        (real_sort_list): function for class method sort_list
        (default_compare): removed. CTree now also compares two GtkCTreeRows
        instead of two GtkCTreeNodes.
        (gtk_ctree_unlink): call gtk_ctree_collapse if parent is empty after
        unlinking the node
        (real_tree_expand) (real_tree_collapse): fix for refcounting of
        node pixmaps
        (set_node_info): call gtk_ctree_node_set_pixtext instead of
        manipulating the row itself
        
        * gtk/testgtk.c: use renamed functions of GtkCTree.
        new sample to show gtk_ctree_export_to_gnode and gtk_ctree_insert_gnode
        at work.

Mon Aug 17 15:31:38 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c: removed gtk_input_add_interp.

	* gtk/gtkeditable.c (gtk_editable_set_position): fixed bogus "return"
	keyword.
	(gtk_editable_get_event_time): fix default: case.

	* gtk/gtkclist.c (gtk_clist_swap_rows): fixes for lvalue casts.

	* gdk/gdkpixmap.c: made a bunch of unexported functions static.

	* gdk/gdkcolor.c:
	* gdk/gdkvisual.c: include "gdkx.h", since it exports prototypes
	of our functions.

	* various minor compilation cleanups, such as bogus commas in
	enums and similar things.

Mon Aug 17 07:47:43 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c (gtk_init): NULL terminate the arg list to g_strconcat()
	(thanx raph).

Sun Aug 16 23:14:20 CDT 1998 Shawn T. Amundson <amundson@gtk.org>

	* NEWS: updated for 1.1.2
	* gtk+.spec: version = 1.1.2

Mon Aug 17 05:10:29 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c (gtk_init): don't call module initializers multiple
	times. changed --gtk-with-module to --gtk-module at owen's request.

Mon Aug 17 03:47:55 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c (gtk_init): feature a new commandline option
	--gtk-with-module=<module> that allows additional loading and
	initialization of modules (e.g. GLE).

Mon Aug 17 01:40:00 1998  Tim Janik  <timj@gtk.org>

	* configure.in: version bump to 1.1.2, binary age 0, interface age 0.
	pass "gmodule" to AM_PATH_GLIB, with that we require libgmodule.so now.

	* gtk/gtkmain.c (gtk_init): since glib's g_return*_if_fail macros log
	with G_LOG_LEVEL_CRITICAL now, i added "--g-fatal-checks",
	"--gdk-fatal-checks" and "--gtk-fatal-checks". that makes up six
	different *-fatal-* arguments now. this needs to be revised and
 	compressed to a reasonable amount of arguments.

Sun Aug 16 20:51:59 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c (gtk_init): fatal warning option is split up now,
	"--g-fatal-warnings" causes fatal warnings in GLib,
 	"--gdk-fatal-warnings" causes fatal warnings in Gdk,
 	"--gtk-fatal-warnings" causes fatal warnings in Gtk.

	* gtk/Makefile.am: define G_LOG_DOMAIN for gtk.
	* gdk/Makefile.am: define G_LOG_DOMAIN for gdk.

	* gtk/testgtk.c: 
	* gdk/gxid.c:
 	we need ugly #undef G_LOG_DOMAIN at the start of these files currently,
 	since automake doesn't support per target _CFLAGS yet.

	* configure.in: require GLib 1.1.3.

Sat Aug 15 03:19:30 1998  John Ellis  <johne@bellatlantic.net>

	* gtk/gtkctree.[ch] (gtk_ctree_set_drag_compare_func): New function
	to set a callback to test if a node in drag can be dropped onto
	it's currrent location.
	* gtk/gtkctree.c (set_mouse_cursor),(check_cursor): New functions
	to change the pointer when a drag destination is not allowed.

Thu Aug 13 21:06:00 1998  Raph Levien  <raph@gtk.org>

	* gdk/gdkrgb.c: committing a patch by Ray Lehtiniemi that
	speeds up the 565_d case by about 25% total. Thanks Ray!

Thu Aug 13 16:47:44 1998  Owen Taylor  <otaylor@redhat.com>

	* Changed GtkSignalFunc back to () from (void). (again!)

	* Added file README.cvs-commits
	
Thu Aug 13 09:11:11 BST 1998  Tony Gale  <gale@gtk.org>

        * docs/gtk_tut.sgml:
          - Tidy up of the menufactory example from
            Andy Kahn <kahn@zk3.dec.com>
          - New section on Range Widgets from
            David Huggins-Daines <bn711@freenet.carleton.ca>
          - Started a new section on 'Advanced Event and Signal
            Handling' - used an email from Owen.
          - New appendix on Gdk Event Types
          - Added the tictactoe full example code to the
            'Code Examples' appendix

Tue Jul 21 12:42:01 1998  Owen Taylor  <otaylor@redhat.com>

	* gdk/gdk.h gdk/gdkfont.c: Added gdk_text/string_extents() - 
	  to calculate all the metrics at once of a string, including
	  things which weren't calculated before.

	* gtk/Makefile.am gtk/gtk.h gtk/gtktearoffmenu.[ch]: New
	  MenuItem type, that when put as the first thing in a
	  menu, makes the menu tearoff. Currently drawn as a
	  dashed line.

	* gtk/gtkmenuitem.h gtk/gtkcheckmenuitem.c: Added a flag
	  "hide_on_activate" to the MenuItem class structure to allow
	  check and radio buttons to be changed with <Space> without
	  hiding the menu.

	* gtk/gtkitemfactory.c: 
	  - Create a AccelGroup for each MenuShell we create.
	  - If an '_' appears before a  character 'c' in the path,
	    then make 'c' an accelerator in the menu's accel group,
	    and if the menuitem is menubar <alt>C an accelerator 
	    in the itemfactory's accel group. Double '__' inserts
	    a literal '_'

	* gtk/gtklabel.[ch]: Add support for a pattern arg - 
          which is a string. If an '_' appears in this string,
	  the corresponding position in the label is underlined.

          Add gtk_label_parse_uline() convenience function which
	  takes a string with embedded underlines, sets the
	  pattern and label, and returns the accelerator keyval.

	* gtk/gtkmenu.[ch]: Make menus no longer a toplevel widget.
	  Instead, they create a GtkWindow and add themselves
	  to that. (When torn off, another new feature, they
	  create another GtkWindow to hold the torn off menu)

	  New function gtk_menu_set_tearoff_state()
	
	* gtk/gtkenums.h gtk/gtkmenushell.[ch] gtk/gtkenums.h: 
	  Added action signals  for keyboard navigation of menus.

	* gtk/gtkmenushell.c: Key press handler which activates
          bindings for navigation, and accelerators, for handling
	  underline accelerators. Exported functions to select 
	  and activate menu items in a menushell.

	* gtk/testgtk.c: Added a new "Item Factory" test which
	  tests GtkItemFactory and the new keyboard navigation
	  of menus.

Tue Aug 11 20:52:58 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtktypeutils.c (gtk_type_class_init): relookup nodes after
	external functions have been called. also relookup nodes after
	this function has been invoked.

Tue Aug 11 15:04:52 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk/gtktext.[ch]: Removed has_cursor, set the cursor
	  beginning of Text when creating the Text widget.

	* gtk/testgtk.c: Grab the focus on the text widget so
	  as to test out the above.

Tue Aug 11 14:55:00 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk/gtkeditable.c: Reverted part of timj's change of Jul 16. 
	  ::changed is a notification signal and should have no default
	  handler. A complete redraw of the Text widget does _not_ need to
	  be done on every text insertion.

Tue Aug 11 13:07:29 1998  Owen Taylor  <otaylor@redhat.com>
	(gtk-abilleira-072198-patch)

	* gtk/gtkwindow.[ch]: 
	  Add gtk_window_set_modal() which sets a flag; when
	  set the window does a gtk_grab_add() when the window
	  is shown, and a gtk_grab_remove() when the window
	  is hidden. 

	* gtk/gtkfilesel.[ch]: Test if it is running in modal form and in
	  that case will run "Create Dir","Delete File" and "Rename File" 
	  dialogs as modal too.

	* gtk/testgtk.c: Added a button with an example of creating modal 
	  dialog boxes. Including file selection and color selection standard
	  dialogs.
	
Tue Aug 11 00:44:47 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk/gtkhscrollbar.c gtk/gtkvscrollbar.c gtk/gtktoolbar.c:
	  Removed CAN_FOCUS by default from scrollbars, button
	  children of toolbar. (But not GTK_TOOLBAR_CHILD_WIDGET children)
	  (Scrollbar definitely good change, toolbar bit more questionable)

Tue Aug 11 17:49:33 1998  Tim Janik  <timj@gtk.org>

	* examples/packbox/packbox.c: #include fixes (reported by Asbjoern
 	Pettersen).

Tue Aug 11 00:35:56 1998  Owen Taylor  <otaylor@redhat.com>

	* gdk/gdkgc.c gdk/gdktypes.h: Applied gtk-pedersen-980727-0; 
	  added all logical operations to gc->function.

Sun Aug  9 23:31:59 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (adjust_scrollbars): Fix for resize bug. Call
 	gtk_widget_size_allocate instead of gtk_widget_queue_resize
	if the visibility state of a scrollbar changes.

Mon Aug 10 12:49:54 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkhbbox.h: fixed an #include statement (reported by Eric Kidd).

Thu Aug  6 22:37:21 1998  Stefan Jeske  <stefan@gtk.org>

	* gtk/gtkclist.c: Renamed my_merge and my_mergesort to
 	gtk_clist_merge and gtk_clist_mergesort. :)

1998-08-06  Martin Baulig  <martin@home-of-linux.org>

	* gtk/gtkclist.c: Renamed `merge' -> `my_merge' and
	`mergesort' -> `my_mergesort'.

Wed Aug  5 21:12:37 1998  Stefan Jeske  <stefan@gtk.org>

	* gtk/gtkenums.h: new enum GtkSortType.
 	
	* gtk/gtkclist.h:
	* gtk/gtkclist.c:
	Added sorting capabilities to GtkCList. New APIs :
	gtk_clist_set_compare_func, gtk_clist_set_sort_column,
	gtk_clist_set_sort_type, gtk_clist_sort, gtk_clist_set_auto_sort. 
	New internal functions : default_compare, merge, mergesort.

	(gtk_clist_append): This is just a wrapper for gtk_clist_insert now.
	
	(gtk_clist_insert): Modified to handle gtk_clist_append and the
	auto sort flag. Changed the return value from void to gint to
	return the row number where the element was actually inserted.

	(gtk_clist_swap_rows): Return immediately if auto sort flag is set.
	
	* gtk/gtkctree.h:
	* gtk/gtkctree.c:
	Removed the auto_sort flag, replaced ctree->node_compare with
	clist->compare all over the place, modified default_compare to
	match clist's needs. Removed API´s : gtk_ctree_set_auto_sort,
	gtk_ctree_set_compare_func. Removed GtkCTreeCompareFunc typedef.

	* gtk/testgtk.c: Modified clist/ctree samples to demonstrate
	sorting. The lists can be sorted by a column by clicking the 
	corresponding title button.
	
Tue Aug  4 22:02:49 PDT 1998 Shawn T. Amundson <amundson@gtk.org>

	* Released GTK+ 1.1.1

Wed Aug  5 02:57:20 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.h:
	* gtk/gtkctree.c:
 	(gtk_ctree_find): changed to return a gboolean
	(gtk_ctree_insert_gnode): new function for recursive insertion of a
	GNode tree.
	(gtk_ctree_real_select_recursive): fix for extended selection
	(gtk_ctree_sort_recursive): in case node == NULL, sort root nodes too.
	(gtk_ctree_set_node_info) (set_node_info): few fixes for expanded flag

Tue Aug  4 16:18:26 1998  Tim Janik  <timj@gtk.org>

	* configure.in: version bump to 1.1.1, binary age 0, interface age 0.
	GLib version 1.1.1 is now required at minimum.

	* docs/Makefile.am: added gtk_tut_fr.sgml to EXTRA_DIST (french version
	of the Gtk+ tutorial, contributed by Eric Jacoboni <jaco@dotcom.fr>.

Mon Aug  3 19:24:48 1998  Owen Taylor  <otaylor@redhat.com>
 
 	* gtk/gtktext.c (gtk_text_forward_delete): Undraw the
 	  cursor before (possibly) deleting the cursor's text
 	  property.
 
 	* gtk/gtktext.c (correct_cache_delete): More attempts
 	  to clean the line-start cache up after inserting
 	  a property. Among other things, make sure to
 	  fix up text->current_line, since it is used to 
 	  refetch the changed lines.
 
Tue Aug  4 10:59:19 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk/gtktable.[ch]: Empty rows/columns of the table
        should not have been marked as being able to shrink.
	(Fixes problem with shrinking scrollbarless GIMP canvases)

1998-08-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkctree.c (gtk_ctree_find_by_row_data_custom): New public
	function to find a row by its data pointer using a custom
	comparison function.

Sun Aug 02 22:58:00 1998  George Lebl  <jirka@5z.com>

	* gtk/gtkclist.c: draw the buttons during a "draw" as well,
	  this fixes a bug when the whole widget is made non-sesitive
	  the buttons weren't redrawn

Mon Aug  3 00:04:09 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (abort_column_resize): reset drag_pos after abort
	* gtk/gtkclist.c (gtk_clist_key_press): removed a few unneeded lines
	* gtk/gtkcombo.c (gtk_combo_list_key_press): fixed compiler warning

Sun Aug  2 03:08:07 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkwindow.c (gdk_window_reparent): Change 
	  window_private->parent pointer when reparenting.

Sat Aug  1 22:17:00 1998  Raph Levien  <raph@acm.org>

	* gdk/gdkrgb.c: made some minor config changes to unify GdkRgb
	with the standalone release.

Fri Jul 31 20:45:07 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (gtk_clist_button_press) (gtk_clist_motion)
	(gtk_clist_button_release) (new_column_width): Few fixes for
	column resize. Store resize column in clist->drag_pos.

Thu Jul 31 15:18:36 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.h 
	* gtk/gtkctree.c 
	* gtk/testgtk.c : New typedef GtkCTreeNode, changed all GList *node
	to GtkCTreeNode *node.

	* gtk/gtklist.h : added extended selection mode and auto scrolling.
	(struct _GtkList): removed unneeded variables timer, button,
	selection_start_pos, selection_end_pos, scroll_direction, have_grab.
 	Added new variables undo_selection, undo_unselection, last_focus_child,
 	undo_focus_child, htimer, vtimer, anchor, drag_pos, anchor_state,
 	drag_selection, add_mode.
 
 	New functions :
 	(gtk_list_extend_selection), (gtk_list_start_selection),
 	(gtk_list_end_selection), (gtk_list_select_all),
 	(gtk_list_unselect_all), (gtk_list_scroll_horizontal),
 	(gtk_list_scroll_vertical), (gtk_list_toggle_add_mode),
 	(gtk_list_toggle_focus_row), (gtk_list_toggle_row),
 	(gtk_list_undo_selection), (gtk_list_end_drag_selection)
        
	* gtk/gtklist.c : 
 	(gtk_list_enter_notify): removed, because auto scrolling now works
 	with gtk_list_motion_notify
 
 	New functions, needed for auto scrolling :
 	(gtk_list_motion_notify) (gtk_list_move_focus_child)
 
 	New functions for extended selection support :
 	(gtk_list_set_anchor), (gtk_list_fake_unselect_all),
 	(gtk_list_fake_toggle_row), (gtk_list_update_extended_selection),
 	(gtk_list_focus_lost)
 	
 	(gtk_list_set_focus_child): modified gtk_container_set_focus_child
 	function to support auto scrolling, and avoid out-of-sync errors in
 	case auf GTK_SELECTION_BROWSE
 	(gtk_list_focus): modified gtk_container_focus function to avoid out
 	off sync errors	in case auf GTK_SELECTION_EXTENDED

	* gtk/gtklistitem.h 
	* gtk/gtklistitem.c :
 	New signal functions for key binding support :
 	(toggle_focus_row), (select_all), (list_item), (unselect_all)
 	(list_item), (undo_selection), (start_selection), (end_selection)
 	(extend_selection), (scroll_horizontal), (scroll_vertical),
 	(toggle_add_mode)
 	(gtk_list_item_realize): added	GDK_KEY_PRESS_MASK |
 	GDK_KEY_RELEASE_MASK
 	(gtk_list_item_draw_focus): modify gc if parent has add_mode set.
 
 	* gtk/gtkcombo.c :
 	(gtk_combo_popup_button_press):  grab pointer for combo->list
 	(gtk_combo_button_release): ungrab only if combo->popwin HAS_GRAB
 	(gtk_combo_list_key_press): take care of which child HAS_GRAB
 	(gtk_comb_init): don't connect combo->button with button_release_event

Thu Jul 30 12:39:36 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (gtk_clist_motion): removed a few unneeded lines

Wed Jul 29 23:31:50 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (gtk_clist_motion): column resize now works with
	horizontal autoscrolling, GtkCTree's 'reorder ability' now works
	with horizontal and vertical autoscrolling.

Tue Jul 28 20:32:03 CDT 1998 Shawn T. Amundson <amundson@gtk.org>

	* gtk/docs/man: new directory
	* gtk/docs/man/gtk_button.pod: new file, initial gtk_button man page

Tue Jul 28 00:03:20 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtknotebook.c (gtk_notebook_paint): small fix for border drawing
	bug

Mon Jul 27 09:18:13 BST 1998  Tony Gale  <gale@gtk.org>

	* docs/gtk_tut.sgml: GtkTree section from
	  David Huggins-Daines <bn711@freenet.carleton.ca>,
	  add a GtkText widget example
	* examples/text/* example/tree/* : new examples for the
	  GtkTree and GtkText widgets
	* docs/gtk_tut.sgml: added an appendix to hold complete code
	  examples that aren't in a full form elsewhere in the
	  tutorial (e.g. scribble)

Mon Jul 27 00:46:21 CDT 1998 Shawn T. Amundson <amundson@gtk.org>

	* Released GTK+ 1.1.0

Mon Jul 27 04:18:26 1998  Tim Janik  <timj@gtk.org>

	* gtkfeatures.h.in: revamped the definitions for 1-1-0, so that all
	the new API stuff is reflected in one #define GTK_HAVE_FEATURES_1_1_0.

Mon Jul 27 03:11:20 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkbindings.c (binding_compose_params): fixup, so that enum
	values are looked up.

	* gtk/gtktypeutils.h:
	* gtk/gtktypeutils.c: new functions gtk_type_flags_find_value and
	gtk_type_enums_find_value to lookup enum values.

	* gtk/gtkctree.h: 
	* gtk/gtkctree.c: change enum name from GtkCTreeExpansion to
 	GtkCTreeExpansionType. fixed signal creations to pass the enum
	types not just the base type GTK_TYPE_ENUM.

	* gtk/gtkclist.h: 
	* gtk/gtkclist.c: fixed signal creations to pass the real enum
	types not just the base type GTK_TYPE_ENUM.

Sun Jul 26 14:50:07 1998  Stefan Jeske  <stefan@gtk.org>

	* gtk/testgtk.c : 
	Began cleanup, e.g. use gtk_widget_show_all instead of many 
	gtk_widget_show's. Completely rewrote the button box sample
 	(only one window now). Removed "miscellaneous" button.

Sun Jul 26 14:48:14 1998  Stefan Jeske  <stefan@gtk.org>

	* gtk/gtkvbbox.c (gtk_vbutton_box_size_allocate): 
	Fixed wrong allocation for GTK_BUTTONBOX_END.
 	(allocation->x  =>  allocation->y)

Sun Jul 26 14:06:37 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (gtk_clist_button_press) (gtk_clist_button_release)
	(abort_column_resize) (gtk_clist_key_press): fix for pointer grab
	
	* gtk/gtkctree.c (real_tree_select): added check to avoid double
	selected rows
	(gtk_ctree_button_press)
 	(gtk_ctree_button_release): fix for pointer grab

Sat Jul 25 13:16:00 1998 Damon Chaplin  <DAChaplin@msn.com>

	* gtk/gtkfontsel.c (gtk_font_selection_get_fonts): 
	Fixed initialization problem - dirty memory could cause problems.
	Also checked that bitmapped fonts can be scaled when showing the
	available sizes.

Sat Jul 25 02:25:03 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.c (gtk_ctree_sort_recursive)
	(gtk_ctree_sort_recursive): test for node != NULL
	(gtk_ctree_is_visible) (gtk_ctree_realize) (gtk_ctree_unrealize)
	(gtk_ctree_last) : added sanity checks
	* gtk/gtkclist.c (gtk_clist_button_press): removed "no_focus_row"

Fri Jul 24 18:15:49 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (toggle_focus_row): mini code cleanup

Fri, 24 Jul 1998 10:56:22 +0200 Paolo Molaro <lupus@debian.org>

	* gtk/gtkfeatures.h.in: added GTK_HAVE_ENUM_VALUE_STRUCT.

Thu Jul 23 00:11:39 1998  Tim Janik  <timj@gtk.org>

	* gtk/testgtkrc: introduce testbindings on C-1 for buttons,
 	to check out binding priorities. someone should really write
	gtkrc-mode for emacs.

	* gtk/gtkwidget.c (gtk_widget_class_init): remove ugly bindings test.
	* gtk/testgtk.c (main): and move it here ;). this test says something
	on release of C-9. (this works only if the mouse pointer is on a
	spinbutton and there is no focus widget).

	* gtk/gtkrc.h:
	* gtk/gtkrc.c:
	export gtk_rc_parse_color, gtk_rc_parse_state and a new function
	gtk_rc_parse_priority to parse path priority types.
	export rc tokens.
	feature binding parsing.

Wed Jul 22 23:41:17 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkbindings.h: 
	* gtk/gtkbindings.c: new function gtk_binding_parse_binding() to
	feature binding parsing in rc files.
	* gtk/gtkbindings.c (gtk_binding_set_new): bug fix.
	* gtk/gtkbindings.c (gtk_binding_pattern_compare): bug fix, we used to
	order the bindings with lowest priority first.

Wed Jul 22 15:21:08 PDT 1998 Manish Singh <yosh@gimp.org>

	* gdk/gdkrgb.c: actually builds and runs properly on big
	endian machines now, because we #include config.h. Also
	fixed up a compile error in the WORDS_BIGENDIAN case in
	gdk_rgb_convert_565_gray. I made the fix by looking at
	patterns in the other code; Raph can you verify this?

	* gdk/gdkthreads.c: #include <unistd.h> to quell compiler
	warnings

Wed Jul 22 23:00:44 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.c (tree_select/unselect) (tree_expand/collapse) 
	(tree_toggle_expansion) (real_select/unselect_row)
	(gtk_ctree_select/unselect) : few fixes for gtk_signal_emits

Wed Jul 15 17:44:47 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk/gtktext.c (new_text_property): We free things from
	the text property MemChunk, so it needs to be G_ALLOC_AND_FREE.

	* Fix up line start cache when splitting a property
	during an insert.

Wed Jul 15 21:15:52 1998  Owen Taylor  <otaylor@redhat.com>

	* gtk/gtkwidget.c: restauration => restoration

Thu Jul 16 20:11:36 1998  Owen Taylor  <otaylor@redhat.com>

	* gdk/gdkxid.c (gdk_xid_table_lookup): If xid_ht
	hasn't been created yet, don't do the lookup.

1998-07-20  Raph Levien  <raph@acm.org>

	* gdk/gdkrgb.c: More cleanups in the config process.

1998-07-20  Raph Levien  <raph@acm.org>

	* gdkrgb.c: Fixed minor config bug preventing big-endian
	architectures from working.

Tue Jul 21 06:32:43 1998  Stefan Jeske  <stefan@gtk.org>

	* gtk/gtkprogressbar.{c,h} gtk/testgtk.c: Fixed wrong size of
 	activity indicator. It is settable now as a fraction of the
	total width/height using gtk_progress_bar_set_activity_blocks.
	Renamed gtk_progress_bar_set_number_of_blocks to
	gtk_progress_bar_set_discrete_blocks.

Mon Jul 20 21:28:18 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.c (gtk_ctree_post_recursive_to_depth)
 	(gtk_ctree_pre_recursive_to_depth): new functions, recursive process
	tree to specified depth
	(gtk_ctree_expand_to_depth): expand tree to specified depth
 	(gtk_ctree_collapse_to_depth): collapse all nodes with level >= depth

Sun Jul 19 23:51:05 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (scroll_vertical): fix for vertical scrolling in case
	of GTK_CLIST_ADD_MOD
	* gtk/testgtk.c (add1000_clist): changed pixmap

Sat Jul 18 22:59:04 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.h: 
	* gtk/gtkmain.c: export gtk_binary_age and gtk_interface_age.

	* gtk/gtktypeutils.h:
	* gtk/gtkitemfactory.h: remove "void" from prototypes again.

Sat Jul 18 00:54:01 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtknotebook.c (gtk_notebook_set_child_arg): added support for
  	CHILD_ARG_MENU_LABEL, CHILD_ARG_TAB_LABEL
	(gtk_notebook_get_child_arg): added support for CHILD_ARG_MENU_LABEL,
	CHILD_ARG_POSITION
	(gtk_notebook_reorder_child): new funktion to change position of a
	notebook page
	(gtk_notebook_draw_arrow): draw left/right arrow with
	GTK_SHADOW_ETCHED_IN if focus_tab is first/last tab.

	* gtk/gtkstyle.c (gtk_default_draw_arrow):
	added GTK_SHADOW_ETCHED_IN/OUT

Sun Jul 19 12:19:16 1998  Stefan Jeske  <stefan@gtk.org>

	* gtk/gtkprogress.c gtk/gtkprogress.h gtk/gtkprogressbar.c
	  gtk/gtkprogressbar.h gtk/Makefile.am gtk/gtk.h gtk/testgtk.c:
	Introduced generic GtkProgress widget. Derived GtkProgressBar from
	GtkProgress. Made GtkProgressBar much more flexible (see testgtk).

Fri Jul 17 23:49:28 PDT 1998 Manish Singh <yosh@gimp.org>

	* gtk/gtktypeutils.h
	* gtk/gtkitemfactory.h: explicitly specify void in prototype

Fri Jul 17 17:54:02 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkclist.c (scroll_vertical): fix to avoid flicker at begin/end
	of list

Fri Jul 17 05:30:47 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtksignal.c (gtk_handlers_run) (gtk_signal_real_emit):
	sropped the approach of copying all signal specific data into a
 	GtkHandlerInfo structure. we rather keep the signal data on the stack
	in gtk_signal_real_emit and pass that over to gtk_handlers_run. this
	avoids multiple lookups of the signal pointer and works savely together
	with destroy notifiers of handlers.

	* gtk/gtkentry.c (gtk_entry_key_press): care for the posssibility that
	someone destroys the entry on the ::activate signal.

Fri Jul 17 01:21:32 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkarrow.c (gtk_arrow_expose): use misc->xpad for x calculation
	instead of ypad (typo).
	(gtk_arrow_set): clear all of the arrow's allocation (left a 1 pixel
 	border around the allocation).
	(gtk_arrow_init): the static requisition needs to be setup in this
	function rather than gtk_widget_new(), so arrow creation works without
	the gtk_arrow_new() constructing.
	(gtk_arrow_expose): return TRUE, since we actually handled the expose.

	* gtk/gtkwidget.c (gtk_widget_real_size_request): provide a default
 	implementation for GtkWidget::size_request, so size requisition for
 	simple statically sized widgets like GtkArrow works.

Thu Jul 16 14:16:16 PDT 1998 Manish Singh <yosh@gimp.org>

	* gtk-config.in: minor changes to gtk-config: --cflags doesn't
	prepend -I@libdir@/glib/include anymore, since glib-config handles
	it; --libs strips out redundant -L<path>'s properly (there was
	code in there to do it before, but it didn't work)

Thu Jul 16 18:24:41 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtknotebook.h: 
	* gtk/gtknotebook.c: signdness corrections all ove the place.
	implementation of object arguments: GtkNotebook::enable_popup,
 	GtkNotebook::tab_pos, GtkNotebook::tab_border, GtkNotebook::show_tabs,
	GtkNotebook::show_border, GtkNotebook::scrollable and GtkNotebook::page.
	begun implementation of child args, we have GtkNotebook::tab_label, but
	GtkNotebook::menu_label and GtkNotebook::position still lack the
	implementation.
	(gtk_notebook_remove_page):
	(gtk_notebook_current_page): allow negative indices (-1) as alias for
	the last page.

	* gtk/gtkentry.h:
	* gtk/gtkentry.c: GtkType and macro fixups. implementation of object
	arguments GtkEntry::max_length and GtkEntry::visibility.
	(gtk_entry_adjust_scroll): queue a redraw.

	* gtk/gtkeditable.h:
	* gtk/gtkeditable.c: GtkType und macro fixups. implementation of
	object arguments GtkEditable::text_position and GtkEditable::editable.
 	new (action) signal GtkEditable::set_editable.
	provide a default handler for GtkEditable::changed that queues a redraw.

	* gtk/gtktext.h: 
	* gtk/gtktext.c: GtkType und macro fixups. override GtkEditable::
	set_editable.

Thu Jul 16 14:42:11 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.c (gtk_ctree_button_release): fix for sigsegv in
	case of drag_target == NULL
	* gtk/gtkclist.c (gtk_clist_button_press): fix for GTK_2/3BUTTON_PRESS.
	Clist did not emit an select_row signal in case of GTK_2/3BUTTON_PRESS.
	* gtk/gtkfilesel.c (gtk_file_selection_file_button,
	gtk_dir_selection_file_button): fix due to changes in clist's
	select_row signal.

Thu Jul 16 01:27:15 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkwidget.h:
	* gtk/gtkwidget.c (gtk_widget_set_usize): handle negative values
	similar to gtk_widget_set_uposition(). that is: -1=unspecified,
	-2=leave untouched. changed the width/height field of GtkWidgetAuxInfo
	to be gint16s rather than guint16s, since that's what the code expected
	(for a long time actually).

	* gtk/gtkviewport.c:
	added support for object arguments: GtkViewport::shadow_type,
 	GtkViewport::vadjustment and GtkViewport::hadjustment.
 	(gtk_viewport_add): chain gtk_bin_add.

	* gtk/gtkscrolledwindow.c: 
	added support for object argument: GtkScrolledWindow::hscrollbar_policy,
	GtkScrolledWindow::vscrollbar_policy and GtkScrolledWindow::viewport.

	* gtk/gtkadjustment.h: 
	* gtk/gtkadjustment.c: 
	* gtk/gtkctree.h: 
	* gtk/gtkclist.h: 
	* gtk/gtkctree.c: 
	* gtk/gtkclist.c:
	* gtk/gtkscrolledwindow.h:
	* gtk/gtkscrolledwindow.c:
	* gtk/gtkviewport.h:
	* gtk/gtkviewport.c:
	GtkType and macro fixups.

Thu Jul 16 01:10:02 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.h :
	* gtk/gtkctree.c :
	Added focus handling, horizontal and vertical autoscrolling,
	extended Selection Mode, key bindings
	Added gtk_ctree_toggle_expansion & gtk_ctree_toggle_expansion_recursive
	Changed gtk_ctree_scroll_to to gtk_ctree_moveto.
	Removed gtk_ctree_clear.
	
	* gtk/gtkclist.h :
	* gtk/gtkclist.c : 
	Added focus handling, horizontal and vertical autoscrolling,
	extended Selection Mode, key bindings

Wed Jul 15 12:39:27 1998  Raph Levien  <raph@acm.org>

	* This checkin integrates GdkRgb version 0.0.3 into the Gtk 1.1
	source tree. For more information on GdkRgb, please see:
	http://www.levien.com/gdkrgb/

	* gtk/gtkfeatures.h.in (GTK_HAVE_GDK_RGB): added this feature. It
	bothers me slightly that the feature is in gdk, and this file is
	in gtk, but it's probably ok.

	* gdk/gdk.h: Added an #include of <gdk/gdkrgb.h>

	* gdk/gdkrgb.c:
	* gdk/gdkrgb.h: Added this module.

	* Makefile.am (EXTRA_DIST): Added gdkrgb.c and gdkrgb.h files.

	* configure.in: added AC_C_BIGENDIAN test (needed by GdkRgb).

Wed Jul 15 14:20:10 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtksignal.c (gtk_signal_real_emit): pass only the signal_id
	to this function. it needs to relookup the signal multiple times.
	this fixes spurious segfaults that could show up with signal intensive
	code, when classes are created during a pending emission (which is
	normal case).

Tue Jul 14 19:12:12 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkbutton.c (gtk_button_set_arg): don't destroy a buttons
	child if it isn't a label.

Tue Jul 14 11:41:38 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkdialog.h: 
	* gtk/gtkseparator.h: 
	* gtk/gtkhseparator.h: 
	* gtk/gtkvseparator.h: macro and GtkType fixups.

Tue Jul 14 06:25:46 1998  Tim Janik  <timj@gtk.org>

	* gtk/testgtk.c (create_cursors): display the current cursor name.

	* gtk/gtktypeutils.h: 
	* gtk/gtktypeutils.c (gtk_type_init_builtin_types): cleanups to
	the fundamental type definition. the GtkArg union now only covers
	the required storage types for argument values. adapted the GTK_VALUE_*
	macro set. handle GTK_TYPE_UCHAR. definiton of type set bounds macros.

	* gtk/gtkargcollector.c (gtk_arg_collect_value): clean ups of the
	code, fixed int/float collection. fixed a bug in the sanity checking
	code for GtkObjects.

	* gtk/gtkbindings.c (gtk_binding_entry_add_signal): fixups of the
	argument collection code.

	* gtk/gtksignal.c (gtk_signal_collect_params): use the type set bounds
	macros when distinguishing the return type.

Mon Jul 13 12:42:51 1998  George Lebl  <jirka@5z.com>

	* gdk/gdkwindow.h: (gdk_window_reparent) check if old_parent_private
	  is not NULL before trying to g_list_remove the child. A patch
	  from Michael Lausch.

Sun Jul 12 16:40:06 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkargcollector.c (gtk_arg_collect_value): fix float argument
	collection (always casted to doubles upon argument passing).

Sun Jul 12 05:59:26 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtktypeutils.c (gtk_type_new): call the base classes'
 	object_init_func for derived objects with the object's ->klass field
 	still pointing to the corresponding base class, otherwise overridden
 	class functions could get called with partly-initialized objects.
	(change from Tero Pulkkinen <terop@modeemi.cs.tut.fi>).

Sun Jul 12 02:47:35 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkobject.h:
	* gtk/gtkobject.c:
 	(gtk_object_arg_get_info): new functions which wraps gtk_arg_get_info().

	* gtk/gtkcontainer.h:
	* gtk/gtkcontainer.c:
 	(gtk_container_child_arg_get_info): new function which wraps
 	gtk_arg_get_info().

Fri Jul 10 13:29:53 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.c:
	(gtk_container_arg_get): 
	(gtk_container_arg_set): 
	* gtk/gtkobject.c:
	(gtk_object_arg_set): 
	(gtk_object_arg_get):
	strictly check for the associated get/set arg functions. if an
	arg is readable or writable, the associated class functions *must*
	be provided.

Fri Jul 10 09:37:50 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkaccellabel.c (gtk_accel_label_accelerator_width): only take the
 	padding into account if there is an accelerator.

Fri Jul 10 05:51:44 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.c:
 	(gtk_container_add_with_args): collect the arguments with
 	gtk_container_child_args_collect, not through gtk_object_args_collect.
	(gtk_container_child_set): likewise.

Fri Jul 10 04:20:35 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtktypeutils.h: 
	* gtk/gtktypeutils.c: added a new internal type GTK_TYPE_IDENTIFIER
	which is derived from GTK_TYPE_STRING.

	* gtk/gtkbindings.c: reworked the argument type handling.

Thu Jul  9 21:03:19 CDT 1998 Shawn T. Amundson <amundson@gtk.org>

	* gtk/gtkpreview.c: add in just enough support for 1 or 4 bits
	  so that it seems to allow normal operation in those modes,
	  although you will only see black  (GIMP toolbar now pops up,
	  just don't create a new image and GIMP now works in 4 bit.)

Thu Jul  9 20:20:04 CDT 1998 Shawn T. Amundson <amundson@gtk.org>

	* gdk/gdkvisuals.c: 4 bit support, increased available_depths
	  array, which was too low (?)

Fri Jul 10 00:02:04 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.h: 
	* gtk/gtkcontainer.c: deleted most of the argument handling code, since
	that is now implemented in gtkarg.c. similar to gtk_object_args_collect,
	we now export a new function gtk_container_child_args_collect().
	for consistency with the object arguments, a few functions got renamed:
	gtk_container_child_arg_get -> gtk_container_child_get,
	gtk_container_child_arg_set -> gtk_container_child_set,
	gtk_container_child_arg_getv -> gtk_container_child_getv,
	gtk_container_child_arg_setv -> gtk_container_child_setv,
	gtk_container_add_with_argv -> gtk_container_addv.
	note, gtk_container_add_with_args() remained, because its equivalent
	would be gtk_container_add(,, ...) which would break all existing code.
	(gtk_container_add_child_arg_type): similar to gtk_object_add_arg_type,
	we expect the `arg_name' argument to be a const static string now.
	(gtk_container_get_child_arg_type): function removed.

Thu Jul  9 07:03:04 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkargcollector.c: new file which holds gtk_arg_collect_value().
	this is a static inline function that collects command line arguments
	from a va_list. this file can just be included in all places that
	need this functionality.

	* gtk/gtkarg.h: 
	* gtk/gtkarg.c: new files which implement most of the argument
	handling stuff from gtkobject.c. also collected a few more
	gtk_arg_* utility functions from else places.

	* gtk/gtkobject.h: 
	* gtk/gtkobject.c: moved most of the argument handling code into
 	gtkarg.c. we now export gtk_object_args_collect() as a non-public
	method with a blind va_list pointer.
	(gtk_object_add_arg_type): the `arg_name' argument is required to be a
	const static string now.
	(gtk_object_get_arg_type): function got removed.

	* gtk/gtkwidget.c: 
	(gtk_widget_set): 
	(gtk_widget_new): adaptions for gtk_object_args_collect().

	* gtk/gtktypeutils.c (gtk_type_init_builtin_types): changed the internal
 	fundamental type name so as to have a valid prefix, e.g. "bool"->
	"gboolean", "string"->"GtkString" and somesuch, left "void" as is,
	though that should probably be something like GtkNone since the
	type itself is called GTK_TYPE_NONE.
	even the internal type names need to avoid name clashes and must live
	in their own namespace, several code portions rely on that.
	we should relly have typedefs such as typedef gchar* GtkString; so the
	fundamental type names can be used for code dumpers just like with all
	the Gtk/Gdk types.

Wed Jul  8 15:31:28 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkbutton.c: handle GTK_RELIEF_HALF, which was introduced to
	keep either GTK_STATE_NORMAL for relief buttons (GTK_RELIEF_NONE) or
	to still honour GTK_WIDGET_STATE(), e.g. for coloured buttons
	(GTK_RELIEF_HALF).
	(gtk_button_paint): set the background for prelighted buttons with
	GTK_STATE_NORMAL only if GTK_RELIEF_NONE.
 	(gtk_button_draw_focus): if GTK_RELIEF_NONE, use GTK_STATE_NORMAL for
	the shadow type (otherwise we get strange shadows for coloured buttons).
	(gtk_button_set_relief): queue a redraw after changing
	the relief.
	(gtk_button_class_init): 
	(gtk_button_set_arg): 
	(gtk_button_get_arg): added object argument "GtkButton::relief".

	* gtk/gtkenums.h (enum): added GTK_RELIEF_HALF.

Mon Jul  6 18:30:48 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkbutton.h:
	* gtk/gtkbutton.c: GtkButtons are now derived from GtkBin. we mirror
	GTK_BIN (button)->child to button->child to keep source compatibility.

	* gtk/gtkoptionmenu.c:
	* gtk/gtkclist.c:
	* gtkcheckbutton.c: don't refer to button->child, but
 	GTK_BIN (button)->child instead.

Mon Jul  6 12:06:23 BST 1998  Tony Gale  <gale@gtk.org>

	* docs/gtkfaq.sgml: update anon CVS info

Sat Jul  4 13:16:24 1998  Tim Janik  <timj@gtk.org>

	* gtk/*.c: changed reversed_[12] to reserved_[12] in gtk_*_get_type
 	functions.

	* gdk/gdkwindow.c:
	* gdk/gdkvisual.c: check for some pointer values to be != NULL, prior
	to XFree() calls.

1998-07-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkfeatures.h.in: Added GDK_HAVE_FULL_CROSSING_EVENT, since
	I seem to have erroneously added it to gtkfeatures.h (not .h.in).

Fri Jul  3 14:55:31 PDT 1998 Manish Singh <yosh@gimp.org>

	* gtk/gtkfeatures.h.in: added GTK_HAVE_RELIEF_STYLE

Wed Jul  1 20:58:46 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkwidget.h:
	* gtk/gtkwidget.c: temporary implementation of action signal "debug_msg"

	* gtk/gtkbindings.c (gtk_binding_entry_add_signal): fixed an off-by-one
	error that prevented signal to entry addition for signals with
 	parameters.

Wed Jul  1 10:05:36 PDT 1998 Manish Singh <yosh@gimp.org>

	* ltconfig: fix for properly detecting shared lib support on
	SunPro cc (taken from libtool 1.2.a)

Wed Jul  1 03:33:30 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkrc.c: implementation of the "class" keyword for styles.

Tue Jun 30 14:30:37 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkrc.c: fixed lookup order for rc styles. the latest defined
	rc set pattern is favoured, this is needed for overriding of style
	patterns with subsequently parsed rc files.

Tue Jun 30 12:45:19 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkrc.c: code overhaul for simplicity and more descriptive
	error messages.

Tue Jun 30 09:24:40 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkaccelgroup.c (gtk_accelerator_parse): parse "<Release>"
	modifier as well.
	(gtk_accelerator_name): add "<Release>" to the accelerator name if
	neccessary.

	* gtk/gtkbindings.c (BINDING_MOD_MASK): take BINDING_MOD_MASK into
 	account.

	* gtk/gtkwidget.c (gtk_widget_real_key_release_event): implemented
	default handler for key-release events, which checks for activation
	of GDK_RELEASE_MASK key bindings.

	* gdk/gdktypes.h (enum): added GDK_RELEASE_MASK to GdkModifierType.

Mon Jun 29 13:39:45 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkarrow.h: GtkType and macro fixups.
	* gtk/gtkarrow.c: widget argument implementation: "GtkArrow::arrow_type",
	"GtkArrow::shadow_type".

Sun Jun 28 11:39:17 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkalignment.h:
	* gtk/gtkbin.h: GtkType and macro fixups.
	
	* gtk/gtkalignment.c (gtk_alignment_class_init): widget argument
	implementation: GtkAlignment::xalign, GtkAlignment::yalign,
	GtkAlignment::xscale, GtkAlignment::yscale.

Sun Jun 28 04:29:10 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtktypeutils.c (gtk_type_class_init): call the base class init
	fucntions from all parent types upon class initialization.

	* gtk/gtkcontainer.c:
 	(gtk_container_get_type): announce gtk_container_base_class_init to
 	the type system.
	(gtk_container_base_class_init): new function to feature base class
	initialization.
	(gtk_container_get_child_arg): 
	(gtk_container_set_child_arg): call the GtkContainerClass get_child_arg
	and set_child_arg methods of the class indicated through the argument
	name.

	* gtk/gtkobject.c:
	(gtk_object_base_class_init): new function to feature base class
 	initialization.
	(gtk_object_init_type): announce gtk_object_base_class_init to the type
	system.
	(gtk_object_class_init): setup the get_arg and set_arg pointers for
	GtkObjectClass.
	(gtk_object_setv): 
 	(gtk_object_getv): call the GtkObjectClass get_arg and set_arg methods,
 	instead of bothering the type system with this.

	* gtk/gtkaccellabel.c: 
	* gtk/gtkbutton.c: 
	* gtk/gtkradiobutton.c: 
	* gtk/gtktable.c:
	* gtk/gtktogglebutton.c: 
	* gtk/gtktipsquery.c: 
	* gtk/gtkbox.c: 
	* gtk/gtkpacker.c: 
	* gtk/gtkwidget.c: 
	* gtk/gtkwindow.c: 
	* gtk/gtkframe.c: 
	* gtk/gtkmisc.c:
	* gtk/gtklabel.c: set the object_class->{g|s}et_arg pointers to the
	corresponding gtk_*_{g|s]et_arg functions and updated the gtk_*_get_type
	functions wrt GtkTypeInfo initialization. changed a lot of the set/get
	arg functions to take a GtkObject argument.

	gtk/gtkadjustment.c:
	gtk/gtkalignment.c:
	gtk/gtkarrow.c:
	gtk/gtkaspectframe.c:
	gtk/gtkbbox.c:
	gtk/gtkbin.c:
	gtk/gtkcheckbutton.c:
	gtk/gtkcheckmenuitem.c:
	gtk/gtkclist.c:
	gtk/gtkcolorsel.c:
	gtk/gtkcombo.c:
	gtk/gtkctree.c:
	gtk/gtkcurve.c:
	gtk/gtkdata.c:
	gtk/gtkdialog.c:
	gtk/gtkdrawingarea.c:
	gtk/gtkeditable.c:
	gtk/gtkentry.c:
	gtk/gtkeventbox.c:
	gtk/gtkfilesel.c:
	gtk/gtkfixed.c:
	gtk/gtkfontsel.c:
	gtk/gtkgamma.c:
	gtk/gtkhandlebox.c:
	gtk/gtkhbbox.c:
	gtk/gtkhbox.c:
	gtk/gtkhpaned.c:
	gtk/gtkhruler.c:
	gtk/gtkhscale.c:
	gtk/gtkhscrollbar.c:
	gtk/gtkhseparator.c:
	gtk/gtkimage.c:
	gtk/gtkinputdialog.c:
	gtk/gtkitem.c:
	gtk/gtkitemfactory.c:
	gtk/gtklist.c:
	gtk/gtklistitem.c:
	gtk/gtkmenu.c:
	gtk/gtkmenubar.c:
	gtk/gtkmenuitem.c:
	gtk/gtkmenushell.c:
	gtk/gtknotebook.c:
	gtk/gtkoptionmenu.c:
	gtk/gtkpaned.c:
	gtk/gtkpixmap.c:
	gtk/gtkpreview.c:
	gtk/gtkprogressbar.c:
	gtk/gtkradiomenuitem.c:
	gtk/gtkrange.c:
	gtk/gtkruler.c:
	gtk/gtkscale.c:
	gtk/gtkscrollbar.c:
	gtk/gtkscrolledwindow.c:
	gtk/gtkseparator.c:
	gtk/gtkspinbutton.c:
	gtk/gtkstatusbar.c:
	gtk/gtktext.c:
	gtk/gtktoolbar.c:
	gtk/gtktooltips.c:
	gtk/gtktree.c:
	gtk/gtktreeitem.c:
	gtk/gtkvbbox.c:
	gtk/gtkvbox.c:
	gtk/gtkviewport.c:
	gtk/gtkvpaned.c:
	gtk/gtkvruler.c:
	gtk/gtkvscale.c:
	gtk/gtkvscrollbar.c:
	gtk/gtkvseparator.c: updated the GtkTypeInfo initialization code to
	match the modified GtkTypeInfo structure.

Sat Jun 27 23:23:27 PDT 1998 Manish Singh <yosh@gimp.org>

	* gtk/testgtk.c: use rand() instead of random() for portability

Sat Jun 27 22:42:28 PDT 1998 Manish Singh <yosh@gimp.org>

	* configure.in
	* acconfig.h
	* gdk/gdk.c: use native Xlib XConvertCase if it's available

Sat Jun 27 15:44:46 1998  Tim Janik  <timj@gtk.org>

	* gdk/gdk.c (gdkx_XConvertCase): compatibility function to provide
	XConvertCase() functionality from X11R6 on X11R5 systems.

Thu Jun 25 10:50:34 1998  Stefan Jeske  <stefan@gtk.org>

	* gdk/gdk.h gdk/gdkfont.c: Added functions gdk_text_height,
 	gdk_string_height, gdk_char_height to retrieve the exact
	height of a text.

Thu Jun 25 07:53:51 BST 1998  Tony Gale  <gale@gtk.org>

	* docs/gtk_tut.sgml: add section on GtkCList widget, contributed
	  by Stefan Mars <mars@lysator.liu.se>
	* examples/clist/clist.c examples/clist/Makefile: example code
	  for GtkCList widget from the Tutorial

Wed Jun 24 16:38:02 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkbin.c (gtk_bin_remove): do not avoid to queue for a resize
	if the container is not visible, we might be a toplevel! this holds
	for all other base container implementations as well, that are
 	candidates to derive toplevels from. in general the resizing code will
	care about visibility itself.
	* gtk/gtkmenushell.c (gtk_menu_shell_remove): likewise.
	* gtk/gtkbox.c (gtk_box_remove): likewise.

	* gtk/gtkwindow.c (gtk_window_move_resize): save ->use_uposition around
	gtk_window_set_hints(), since we haven't calculated the new position
	yet.

	* gdk/gdkwindow.c (gdk_window_get_pointer): take care that *x, *y and
	*mask are alway initialized in a sane way, regardless of the return
 	value.

Wed Jun 24 14:14:32 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.c: new function gtk_container_child_arg_set, similar
	to gtk_container_child_arg_setv, but takes a variable argument list.
	new function gtk_container_get_child_arg_type, which is needed by
	gtk_object_collect_args.

	* gtk/gtkobject.c: changed prototype for gtk_object_collect_args, to
	take a function pointer to figure the argument type.
	adapted callers to pass gtk_object_get_arg_type.
	* gtk/gtkwidget.c: adapted gtk_object_collect_args callers to pass
	gtk_object_get_arg_type..

	* gtk/gtkpacker.h: 
	* gtk/gtkpacker.c:
 	(gtk_packer_reorder_child): new function to change the packing order
	of a child.
	(gtk_packer_size_request): 
	(gtk_packer_size_allocate): take container->border_width into acount.

	* gtk/gtkpacker.c: implemented widget arguments:
	"GtkPacker::spacing", "GtkPacker::border_width", "GtkPacker::pad_x",
	"GtkPacker::pad_y", "GtkPacker::ipad_x", "GtkPacker::ipad_y".
	implemented child arguments:
	"GtkPacker::side", "GtkPacker::anchor", "GtkPacker::expand",
	"GtkPacker::fill_x", "GtkPacker::fill_y", "GtkPacker::use_default",
	"GtkPacker::border_width", "GtkPacker::pad_x", "GtkPacker::pad_y",
	"GtkPacker::ipad_x", "GtkPacker::ipad_y", "GtkPacker::position".

	* gtk/gtkmisc.c (gtk_misc_set_arg): for padding args, set the padding,
	not the alignment.

	* gtk/gtkeventbox.h:
	* gtk/gtkeventbox.c: GtkType and macro fixups.

	* gtk/testgtk.c (entry_toggle_sensitive): new function to toggle
	sensitivity of an entry.

	* gtk/gtkstyle.c (gtk_style_new): support normal grey as default color
	for insensitive base and text.

	* gtk/gtkentry.c (gtk_entry_realize): set the window backgrounds
	widget state dependent.
	(gtk_entry_style_set): likewise.
	(gtk_entry_state_changed): set background color on state changes.
	(gtk_entry_draw_text): for non selected text, use state dependent
	colors.

	* gtk/gtktogglebutton.c: support for widget arguments
 	"GtkToggleButton::active" and "GtkToggleButton::draw_indicator".

Wed Jun 24 08:35:45 1998  Stefan Jeske  <stefan@gtk.org>

	* gtk/gtkspinbutton.c (gtk_spin_button_spin): Added compatibility 
	code for 1.0.x-like parameters. Changed internal interface of
	gtk_spin_button_real_spin. Several fixes to avoid emission of
	"value_changed" where possible.

Tue Jun 23 22:21:33 PDT 1998 Manish Singh <yosh@gimp.org>

	* gtk-boxed.defs: s/GkWidget/GtkWidget/

Wed Jun 24 07:47:29 1998  Tim Janik  <timj@gtk.org>

	* gtk/testgtk.c (create_idle_test): added a frame with radio buttons
	to select the resize_mode for the idle-labels container.

	* gtk/gtkframe.h: 
	* gtk/gtkframe.c: GtkType and macro corrections.

	* gtk/gtkradiobutton.c (gtk_radio_button_set_arg): new function to
 	support widget argument "GtkRadioButton::group".

Tue Jun 23 08:01:09 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.c (gtk_container_set_resize_mode): queue a resize
	unconditionally if resize_mode has changed.

	* gtk/gtkscrolledwindow.c (gtk_scrolled_window_init): set
 	GTK_RESIZE_QUEUE on the scrolled window.
	(gtk_scrolled_window_construct): set GTK_RESIZE_PARENT for the vieport.

Tue Jun 23 04:20:30 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.h:
	* gtk/gtkcontainer.c:
 	(GTK_IS_RESIZE_CONTAINER): new macro to find out if
	a given gtkobject is a container with resize_mode==GTK_RESIZE_PARENT.
	(gtk_container_queue_resize): new function to queue a container for
	a *size* reallocation (doesn't affect its position, and thus its
	parent is left untouched usually).
	(gtk_container_get_resize_container): new function to retrive the next
	most resize container which is not itself queued for a resize.
	(gtk_container_idle_sizer): new function to carefully process the
 	container_resize_queue since it can change during invokation of
 	gtk_container_check_resize().
	(gtk_container_resize_children): total rework of this function to
	properly handle resize containers. makes a lot of assumptions whitch
	are stated in the comments.

	* gtk/gtkcontainer.c:
 	(gtk_container_real_check_resize): only requeue ourselves if we are not
 	a resize container.
	(gtk_container_clear_resize_widgets): care for automatic deletion of our
	resize_widgets list on size_allocate through a handler connection.

	* gtk/gtkwindow.c (gtk_window_shutdown): new functionm to reset the
 	focus and default widget of a window, so to take the burden from
	gtk_widget_unparent.

	* gtk/gtkviewport.c: removed gtk_viewport_check_resize, which tried
	to be clever, but actually messed up the resize_children logic and
	caused unneccessary allocations on its whole branch. besides this,
	it messed up the display by not invoking a redraw after the allocation.

	* gtk/gtktable.c (gtk_table_set_child_arg): reverted recent change, so
 	that it is the child again that is queued for a resize.
	(gtk_table_attach): likewise.
	(gtk_table_remove): likewise.

1998-06-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk/gtkentry.h, gtk/gtkentry.c: Export the
	gtk_entry_adjust_scroll.  Required if you change the cursor
	position and want to sync it up with your code (Midnight Commander
	gtk front end needs this).

	* gtk/gtktable.c: Deal with tables that have size 0, 0.

Tue Jun 23 12:12:19 BST 1998  Tony Gale  <gale@gtk.org>

	* examples/README.1ST: new file to explain how the
	  code examples should be extracted from the tutorial.

Mon Jun 22 18:43:11 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.c (draw_row): added new "line style"
	GTK_CTREE_LINES_TABBED 
	* gtk/gtkctree.c/h (gtk_ctree_find_glist_ptr): new function to
	search the glist pointer of an GtkCTreeRow

1998-06-21  Raja R Harinath  <harinath@cs.umn.edu>
 
	* gtk/Makefile.am (gtk.defs,gtktypebuiltins*): Remove $(srcdir)
	from, and clean up, the dependencies.  Generate to intermediate
	files to prevent problems with Ctrl-C.

	* gtk/genmarshal.pl: Generate `gtkmarshal.[ch]' in $srcdir.

Fri Jun 19 14:46:56 1998  Stefan Jeske  <stefan@gtk.org>

	* gtk/gtkspinbutton.h gtk/gtkspinbutton.c gtk/testgtk.c:
        - Bug fix for precision problem causing occasional double emission 
	  of "value_changed" signal (hopefully works now).
        - API change (should be binary compatible) : 
	  new enum GtkSpinType; modified gtk_spin_button_spin to use it.
	  Modified cursor example appropriately.
	  To spin by something other than step_/page_increment, use
	  gtk_spin_button_spin (spin, GTK_SPIN_USER_DEFINED, increment).
	- Made GTK_SHADOW_NONE the default. ;)
	- Fixed casting of GtkAdjustment* to GtkWidget* in
	  gtk_spin_button_value_changed.

Fri Jun 19 06:18:19 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.c (gtk_container_set_resize_mode): fail silently
	for toplevels. if resize_mode changes to GTK_RESIZE_PARENT, clear the
 	resize widget list before queuing the container for a new reize.
	(gtk_container_need_resize): changed return value to FALSE, since this
	used to indicate that no further resizes are needed.
	(gtk_container_set_arg): 
	(gtk_container_get_arg): 
	(gtk_container_class_init): implemented GtkContainer::resize_mode
 	argument.

	(gtk_container_resize_children): when we walk up the tree of a resize
	widget we need to stop if we are the current parent.

	* gtk/gtkwidget.c (gtk_widget_queue_resize): flag the resize child with
	GTK_RESIZE_NEEDED for container->resize_mode==GTK_RESIZE_IMMEDIATE.
	(gtk_widget_hide_all): retrive the toplevel widget from via
	gtk_widget_get_resize_container().

Thu Jun 18 23:08:36 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtklist.c (gtk_list_button_press): Only respond
	  to selection with button 1. This allows context-sensitive
	  menus to work correctly.

Fri Jun 19 03:29:04 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkaccelgroup.c: 
	* gtk/gtkbindings.c: 
	* gtk/gtkcontainer.c:
	* gtk/gtkitemfactory.c:
	* gtk/gtkobject.c: 
	* gtk/gtksignal.c:
	* gtk/gtkwidget.c: replaced some gtk_object_data_force_id with
	g_quark_from_static_string calls to save memory.

	* gtk/gtkobject.c (gtk_object_set_data_by_id_full): invoke the destroy
 	function _after_ the new data has been setup.
	minor changes to object data functions to feature the GQuark type.

Thu Jun 18 21:13:54 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkmain.c (gtk_init): Remove --g-fatal-warnings flag
	  from argv.

Thu Jun 18 20:22:28 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/genmarshal.pl: Modified to be more idiomatic Perl,
	  to be more readable perl, to spit out stuff that looks
	  more like readable C, and to pipe output through indent
	  so output looks a lot like readable C. No functional
	  changes.

Thu Jun 18 17:43:31 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkpixmap.[ch] (gtk_pixmap_set): Clear the background if
	  necessary when switching to a masked pixmap. (Based on a patch
	  from Ullrich Hafner <hafner@informatik.uni-wuerzburg.de>)

Thu Jun 18 16:18:10 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkeditable.[ch]: Added action signals for keyboard
   	  bindings. (move_cursor, kill_word, etc, etc, etc). 

          removed the time argument from
	  gtk_editable_cut/copy/paste_clipboard (source but not
          binary incompatible...) Instead get time from
	  gtk_get_current_event ().
	
	* gtk/gtktext.c gtk/gtkentry.c: Support the new editable
	  signals.

Thu Jun 18 02:52:09 1998  Owen Taylor  <otaylor@gtk.org>

	Patches from Damon Chaplin <DAChaplin@email.msn.com>:

        gtk/gtkfontsel.h: Fixed GtkFontSelectionClass - I forgot to change
	     parent class to GtkNotebookClass when splitting the widget in
	     two.  Also updated some comments.

        gtk/gtkfontsel.c: Fixed bug when toggling 'Allow scaled bitmaps'
               button without a font selected.

             Fixed bug in set_font_name - I hadn't updated the code to
               search for the style in the font_style clist - it was
               still assuming the style row was equal to its index,
               but it isn't any more.
	
             Changed 'Reset' button on filter page to 'Clear Filter'.
             Deleted old code relating to the old 'Filter Fonts' toggle
             Updated some comments.
             Cleared 'Actual Fontname' if no font is set.

        gtk/testgtk.c: Fixed problem when 'OK' button is pressed - it was
	     destroying the GtkFontSelection instead of the
             GtkFontSelectionDialog.

Thu Jun 18 02:15:31 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkmain.c (gtk_init): Added --g-fatal-warnings
	  flag to make all warnings fatal errors.

	* gtk/testthreads.c: moved <pthreads.h> include inside 
	  #ifdef USE_PTHREADS

Thu Jun 18 01:37:31 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkenums.h gtk/gtkcontainer.[ch] gtk/gtkwidget.c 
	  gtk/gtkmenu.c gtk/gtkviewport.c gtk/gtkwindow.c:

	- Added new function gtk_container_set_resize_mode() for
	  fine-grained control of where resize-queueing is done.

	- Removed GtkContainer::need_resize and GtkWindow::move_resize
	- Added GtkContainer::check_resize to replace need_resize.

	- Added function gtk_container_check_resize() to trigger
	  queued resizes, and gtk_container_resize_children() to
	  Figure which children need to be size-allocated. (logic
	  moved from gtkwindow.c)

	- Reorganized code in gtkwindow.c
	
	- Set the resize-mode for viewports so that resizes within
	  a viewport don't propagate out of it. 
	
1998-06-18  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkfontsel.c: Use pointer<->int conversion macros to avoid warnings.

	* gtk/gtkaccellabel.c (gtk_accel_label_accelerator_width): Use
	g_return_val_if_fail, because the function *does* return a value.

Thu Jun 18 03:30:06 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkaccellabel.h:
	* gtk/gtkaccellabel.c: new function gtk_accel_label_accelerator_width to
	request the size of the accelerator portion of an accel label.
	(gtk_accel_label_size_request): don't request for the accelerators size.
	(gtk_accel_label_expose_event): only draw the accelerator if we got
 	enough extra space.

	* gtk/gtkmenuitem.c (gtk_menu_item_size_request): request accelerator
	width from children.

	* gtk/gtkmenu.c (gtk_menu_key_press): when adding an accelerator to an
	object (after removal has been requested) check if there is still an
	accelerator remaining to avoid adding two accelerators on an object.
	this can happen for locked accelerators (or accelerator-frozen widgets).
	(gtk_menu_size_request): feature childrens accelerator width in size
 	requests.

	* gtk/gtknotebook.c (gtk_notebook_menu_item_create): use
	gtk_widget_freeze_accelerators() for dynamically created menu items.

	* gtk/gtksignal.h: 
	* gtk/gtksignal.c: new function gtk_signal_handler_pending_by_func()
	which will return a handler_id > 0 if the specified function is pending
	for `signal_id'.

	* gtk/gtkwidget.h:
	* gtk/gtkwidget.c: remove gtk_widget_stop_accelerator, which was just
	a signal handler function to stop accelerator addition.
	added gtk_widget_freeze_accelerators and gtk_widget_thaw_accelerators
	which will prevent (undo) any accelerators from being added to or
 	removed from a widget.

Wed Jun 17 21:59:09 1998  Stefan Jeske  <stefan@gtk.org>

	* gtkspinbutton.h gtkspinbutton.c testgtk.c:
 	Changed GtkSpinButtonUpdatePolicy enum, added keyboard
	acceleration, new API gtk_spin_button_set_snap_to_ticks.

Wed Jun 17 03:47:40 1998  Tim Janik  <timj@gtk.org>

	* gdk/gdk.h:
	* gdk/gdkwindow.c: new function gdk_window_at_pointer() to retrive
	the current GdkWindow the pointer is on if there is any.
	
	* gtk/gtktable.c (gtk_table_init): preallocate a table with one row
	and one column, so we don't construction logic at all. changed a few
	(x < y - 1) to (x + 1 < y), to avoid failing evaluations due to
	unsigned int wraps.

	* gtk/gtkwidget.c (gtk_widget_set_parent): removed left over code
 	portion, added an additional check for parent != widget.

	* more GtkType and macro fixups.

1998-06-16  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkhandlebox.c (draw_textured_frame): Now accepts an extra
	"clip" parameter, which is the clipping rectangle to use.  This
	eliminates the extremely annoying flicker when exposing parts of
	the handlebox.

Tue Jun 16 14:08:08 PDT 1998 Manish Singh <yosh@gimp.org>

	* gtk/gtktable.c: fix from TimJ for off-by-one error in table
	resizing

Tue Jun 16 06:29:57 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcheckmenuitem.c (gtk_check_menu_item_set_state): check for
	!= 0 on the argument.

	* gtk/gtktable.h: 
	* gtk/gtktable.c: new function gtk_table_resize() which allowes
 	shrinking and expanding of tables. implementation of widget arguments
	and child arguments. many signedness corrections.

Mon Jun 15 04:15:03 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkbox.c (gtk_box_set_child_packing): queue the resize for the box
	not only the child, otherwise we might end up taking away other
 	childrens space after the resize.

	* gtk/gtkitemfactory.c (gtk_item_factory_parse_menu_path): if we parse
	an unknown menu path from any source, that path must always be flagged
 	as "modified", since we don't really know whether it has its default
	value or not.

	* gtk/gtktree.c:
	* gtk/gtkpacker.c:
	* gtk/gtknotebook.c:
	* gtk/gtkmenushell.c:
	* gtk/gtklist.c:
	* gtk/gtkpaned.c:
	* gtk/gtkfixed.c: 
	* gtk/gtkbutton.c: implement gtk_*_child_type functions.

	* gtk/gtkbox.h: 
	* gtk/gtkbox.c: type corrections for expand, fill, padding and pack_type
	arguments. implemented child arguments.

	* more GtkType and macro fixups.

Sun Jun 14 16:30:02 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcheckbutton.h: GtkType and macro fixups.

	* gtk/gtkclist.h: exported the prototypes for gtk_clist_get_vadjustment
	and gtk_clist_get_hadjustment.

	* gtk/gtkcontainer.c:
 	implementation of children arguments, new class member functions
	(child_type), (get_child_arg) and (set_child_arg) plus a new field
	n_child_args.
	(gtk_container_child_type): new function which returns the type of a
 	child that the container expects for its next addition.
	(gtk_container_add_child_arg_type): new function to introduce a new
 	child argument at class creation time.
	(gtk_container_query_child_args): new function to query all child
 	arguments that are supported by a container class.
	(gtk_container_child_arg_getv): new fucntion to retrive the value of a
 	child argument.
	(gtk_container_child_arg_setv): new function to set a child argument for
	a certain container and child combination.
	(gtk_container_add_with_args):
	(gtk_container_add_with_argv): new functions to feature addition of a
 	new child in combination with the setting of certain child arguments.

	* gtk/gtktypeuitils.c (gtk_type_class_init): feature initialization of
 	GtkContainerClass.n_child_args, similar to the GtkObjectClass members.
	this should really be done through class cretion hooks some day.

	* gtk/gtkcontainer.c: changed type of border_width from gint16 to
 	guint : 16.

	* gtk/gtkpacker.h:
	* gtk/gtkpacker.c: renamed all PadX and PadY to pad_x and pad_y to
 	follow the gtk convention for lower case variable names (important
	for language wrappers and widget arguments), and made them guint : 16.

	* examples/packer/pack.c: adaptions for the case converted GtkPacker
 	fields.

Fri Jun 12 16:33:23 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkitemfactory.c (gtk_item_factory_parse_rc_scanner): do not
	change the character pair for single line comments.
	(gtk_item_factory_parse_rc): use the cpair_comment_signle specified in
	GtkItemFactoryClass.
	(gtk_item_factory_parse_rc_string): likewise.

Mon Jun 15 23:39:44 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkfontsel.[ch] (gtk_font_selection_dialog_init): Moved font
	lists from the klass structure to a static structure
	in gtkfontsel.c; cleans up global the namespace.

Mon Jun 15 22:16:10 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/makeenums.pl (parse_entries): Fix (untriggered)
	bug with /*< skip >*/ and remove warning.
	
Mon Jun 15 20:14:09 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/Makefile.am: Made the gtkmarshal.* generation
	rules maintainer-only.

Mon Jun 15 16:29:45 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdktypes.h gdk/gdkprivate.h gtk/gtk*.h 
	  gtk/Makefile.am gtk/makenums.pl 

	Removed out the G_ENUM/FLAGS mechanism in favor
	of a perl script that parses the standard headers
	(with occasional /*< nick=foo >*/ style overrides)
	and extracts the enumerations.

	  gtk/maketypes.awk: Small improvments to the
	  translation of names. (Avoid splitting gc into
	  g_c_.)
	
Mon Jun 15 16:25:44 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtk.h gtk/gtkfontsel.[ch]: 
	Damon Chaplin's <DAChaplin@email.msn.com> Font selection widget.
	
Mon Jun 15 15:58:34 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkentry.c:
	- Restored gtk_entry_adjust_scroll to static 
	- Changed text positioning code so that we always
	  display as large a portion of the text as possible.

Mon Jun 15 15:42:12 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtktext.c (gtk_text_finalize): Free internal
	structures of text widget. Also, unreference pixmaps
	when unrealizing.
	
Sat Jun 13 19:14:39 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkinputcommon.h (gdk_input_device_new): Change
	3.3.1 bug workaround to number keys starting at 1.

Sat Jun 13 11:56:57 1998  Owen Taylor  <otaylor@gtk.org>

	* docs/gtk_tut.sgml: Fixed urls for complete example
	source for scribble+widget-writing examples.

Sat Jun 13 11:48:26 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkpixmap.c (gdk_pixmap_extract_color): 
	Patch from Tom Bech <tomb@ii.uib.no>, to handle color
	specs of the form c #abcdef [ more keys ] properly.

Sat Jun 13 10:51:56 1998  Stefan Jeske  <stefan@gtk.org>

	* gtkspinbutton.h gtkspinbutton.c testgtk.c 
	(gtk_spin_button_set_shadow_type):
	New API to set the shadow type of the arrow panel.

Fri Jun 12 21:20:42 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkoptionmenu.c (gtk_option_menu_expose): Removed
	code for drawing the child in two places at once. Unfortunately,
	not only does it not work anymore (because reparenting has
	been fixed), but it also triggers reparent/expose loops
	in some cases.

	* gtk/gtkoptionmenu.c (gtk_option_menu_remove_contents): Removed
	an unecessary unrealize.

Fri Jun 12 21:18:56 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkwindow.c (gdk_window_reparent): Update the
	  old and new parents' child window lists properly.

Fri Jun 12 09:24:47 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkpacker.h:
	* gtk/gtkpacker.c: renamed enum GtkAnchor and GtkSide to GtkAnchorType
 	and GtkSideType, to be consistent with the rest of Gtk's enum
 	definitions. wrapped the enum definitions with the G_ eunm wrappers.
	spelled out the GTK_ANCHOR_* enum values, since single letters don't
	work out corectly as nick-names (left the old values as aliases).
	some signdness corrections (border-width, spacing), could stand more.

Thu Jun 11 14:38:33 CDT 1998 Shawn T. Amundson <amundson@gtk.org>

	* gtk/gtkpacker.c, gtk/gtkpacker.h, gtk/gtk.h, gtk/Makefile.am: 
	  Added gtkpacker

	* examples/packer/pack.c, examples/packer/Makefile: Added
	  gtkpacker example

Thu Jun 11 13:09:00 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtktext.c (remove_cache_line): Fixed broken
	list-removal code.

	* gtk/gtktext.c: (gtk_text_delete_(forward/backward)_cahr)
	Check bounds before deleting.

Wed Jun 10 23:21:33 1998  Owen Taylor  <otaylor@gtk.org>

	* autogen.sh: Support ACLOCAL_FLAGS

Wed Jun 10 20:54:37 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk-config.in: Added missing quotes.

Wed Jun 10 18:44:22 PDT 1998 Manish Singh <yosh@gimp.org>

	* gtk/gtkfeatures.in: #define GTK_HAVE_ACCEL_GROUP

1998-06-10  Raja R Harinath  <harinath@cs.umn.edu>

	* acconfig.h (GTK_COMPILED_WITH_DEBUGGING): Renamed from
	G_COMPILED_WITH_DEBUGGING.

	* configure.in (fd_set): Explain check better.

	* acinclude.m4: New file.  Contains `libtool.m4' from libtool-1.2,
        the version from which gtk+'s libtool forked.  Needed for people
        who use post-1.2 alphas of libtool.

Wed Jun 10 19:36:35 1998  Owen Taylor  <otaylor@gtk.org>

	* glib/* Moved to glib module

	* INSTALL Makefile.am acconfig.h autogen.sh configure.in
	  gtk-config.in gtk.m4 gdk/Makefile.am gtk/Makefile.am

	  configuration changes for the above:
	 
	  - Use AM_PATH_GLIB by default to find glib; also accept
	    a --with-glib option for using an uninstalled glib.
	 
	  - Put --enable-debug information into config.h so
	    that we rebuild when it changes. (was in glibconfig.h)

Wed Jun 10 22:23:27 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtkctree.c (draw_row): adapted clist pixmap clipping

	* gtk/gtknotebook.h (struct _GtkNotebookClass):
	* gtk/gtknotebook.c (gtk_real_notebook_switch_page): 
	added missing argument (according to Joseph Coleman's bug report)

	* gtk/gtknotebook.c (gtk_notebook_set_focus_child): new class
	function to fix notebook focus handling
	
Wed Jun 10 12:57:03 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkcc.c glib/ghash.c glib/glib.h glib/gstring.c
          glib/gutils.c glib/testglib.c glib/gdataset.c
          gtk/gtkaccelgroup.c gtk/gtkmain.c gtk/gtksignal.c
          gtk/gtktext.c gtk/gtkbindings.c:

	 renamed g_const_pointer => gconstpointer

Wed Jun 10 06:25:17 1998  Tim Janik  <timj@gtk.org>

	* gdk/gdk.c (gdk_init): prevent gdk_init() from segfaulting when
	invoked with (NULL, NULL); (this worked sometime ago).

	* gtk/gtktypeutils.h: 
	* gtk/gtktypeutils.c: enum and flags type creation can now be done
	through gtk_type_register_enum() and gtk_type_register_flags(),
	which allow to specify the enum value arrays directly.
	the NULL terminated value arrays can be retrived through
	gtk_type_enum_get_values() and gtk_type_flags_get_values();
	(gtk_type_children_types): new function to query derived types.

1998-06-09  Raja R Harinath  <harinath@cs.umn.edu>

	* gtk/Makefile.am (gtkmarshal.c gtkmarshal.h): Pass $srcdir in
	environment to genmarshal.pl.
	(gtk.defs,gtktypebuiltins*): Add $(srcdir) where needed (in the
	rule), and removed it where not needed (in the dependencies).

	* gtk/genmarshal.pl: Look for `gtkmarshal.list' in $srcdir.

Tue Jun  9 18:44:57 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkobject.c: Removed g_object_pointer_hash, which
	was just g_direct_hash.

Mon May 25 19:54:20 1998  Owen Taylor  <otaylor@gtk.org>

	* configure.in: x_libs=, not $x_libs=. Enough said.
          (Case only hit for --disable-xshm)
	
Mon May 25 12:08:14 1998  Owen Taylor  <otaylor@gtk.org>

	* configure.in (LDFLAGS): Add to $CFLAGS and $LDFLAGS
	  when testing for X libraries, don't replace them. Because
	  the user might have specified the path to the X libraries
	  themself before running configure.

	* examples/**.c: Changed all gpointer * to gpointer
	
1998-06-09  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkhandlebox.h (struct _GtkHandleBox): Removed the
	fleur_cursor field.  Now the cursor is created/destroyed on demand
	by the routines that need it.

	* gtk/gtkhandlebox.c (gtk_handle_box_button_changed): 
	(gtk_handle_box_motion): The fleur cursor is created and destroyed
	only when needed.

Tue Jun  9 09:57:09 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtktypeutils.h: 
	* gtk/gtktypeutils.c: renamed the newly created gtk_enum_get_values and
	gtk_enum_set_values to gtk_type_enum_get_values and
 	gtk_type_enum_set_values respectively, since they are actually type
 	system features.

	* gtk/gtktypebuiltins_evals.c: oops, screwed the NULL termination with
	my last commit. ;)

Tue Jun  9 01:57:23 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkselection.h: 
	* gtk/gtkselection.c: new functions gtk_selection_data_copy and
	gtk_selection_data_free.

	* gtk/gtkwidget.c (gtk_widget_class_init): fixed gtk_signal_new() call
	for "selection_received", which was completely bogus.
	* other fixups to gtk_signal_new() calls all over the place.

	* gtk/gtktypebuiltins.h: types as variables (formerly macros).
	* gtk/gtktypebuiltins_vars.c: type variable implementations.
	* gtk/gtktypebuiltins_ids.c: array entries for builtin type
 	declarations.
	* gtk/gtktypebuiltins_evals.c: enum value arrays.
	* gtk/gtk-boxed.defs: gtk and gdk structure definitions, used to build
	gtk.defs.
	* gtk/gtk.defs: generated file with scheme syntax for type definitions
	of gtk and gdk structures and enums.
	* gtk/gtktypeutils.h: 
	* gtk/gtktypeutils.c: reworked type ids, so they are variables not
 	macros anymore (this fixes binary incompatibility with new enum
 	definitions).

	* gtk/gtkwidget.c (gtk_widget_real_key_press_event): proccess possible
	key bindings for this widget.
	* gtk/gtkwindow.c (gtk_window_key_press_event): chain parent class'
 	handler.

	* gtk/gtkobject.h:
	* gtk/gtkobject.c: removed gtk_object_class_new_user_signal_no_recurse()
	again. new functions gtk_object_class_user_signal_new () and
	gtk_object_class_user_signal_newv (), to feature the GtkSignalRunType
 	flag on the signal creation.

Mon Jun  8 20:52:21 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.h: new signal GtkContainer::set_focus_child.

Mon Jun  8 02:52:37 1998  Tim Janik  <timj@gtk.org>

	* gdk/gdkprivate.h: 
	* gdk/gdktypes.h: 
	* gtk/gtkprivate.h: 
	* gtk/gtkwidget.h: 
	* gtk/gtkobject.h: wrapped enum definitions with glib macros.

	* reworked enum value array generation code. gtk.defs is a generated
	file now.

Sun Jun  7 14:34:31 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkitemfactory.c (gtk_item_factory_create_menu_entries): feature
	check menu items in the compatibility code (this required me to remove
	the "<check>" part from the menu item name, grrr).

1998-06-07  Marius Vollmer  <mvo@zagadka.ping.de>

	* gdk/gdk.h (gdk_color_copy, gdk_color_free): New prototypes.
	* gdk/gdk.c (gdk_color_copy, gdk_color_free): New functions.
	
Sun Jun  7 10:53:02 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkitemfactory.h: 
	* gtk/gtkitemfactory.c: further additions to fit the gimp's code.
	additions to the dumping code to feature GtkPatternSpec.
	even found a bug to fix in the original code ;)
	
Sun Jun  7 09:36:04 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkitemfactory.c: support different types of callbacks, to
	maintain existing code.

Sat Jun  6 06:01:24 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtksignal.c (gtk_signal_emitv): fixed an assertment.

	* gtk/makeenums.awk: a script to generate the GtkEnumValue arrays from,
	this should eventually be done by gentypeinfo.el somewhen.
	* gtk/gtkenumvalues.c: new generated file to hold GtkEnumValue arrays.

	* gtk/gtktypeutils.h: new function gtk_enum_values() to retrive all the
	enum values of an enum type.

	* gtk/gtk.defs:
	* gtk/gtkcurve.h: 
	* gtk/gtkobject.h: 
	* gtk/gtkprivate.h: 
	* gtk/gtkwidget.h:
	* gtk/gtkenums.h: 
	brought enum/flags definitions in sync, added a few more enum
 	definitions for bindings and pattern matching.

	* some more macro and GtkType fixups in various places.

	* gdk/gdktypes.h (enum): added a new value GDK_AFTER_MASK, which is used
	as a key-release modifier for the binding system.

Fri Jun  5 06:06:06 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmenu.h (struct _GtkMenu): removed GList*children, since it
	was a stale list pointer that is already present in GtkMenuShell.

	* gtk/gtkmenushell.h (struct _GtkMenuShellClass): added a signal
	GtkMenuShell::selection_done which is emitted after the menu shell
 	poped down again and all possible menu items have been activated.

Thu Jun  4 02:20:42 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmenushell.c (gtk_menu_shell_button_release): flush the x-queue
	before activation of the menuitem, so the menu is actually taken off the
	screen prior to any menu item activation.

	* gtk/gtkctree.c (gtk_ctree_get_row_data): allow function invokation
	for NULL nodes.

	* gtk/gtkwidget.h:
	* gtk/gtkwidget.c: new function gtk_widget_stop_accelerator to stop
	the emission of the "add-accelerator" signal on a widget. this is
	usefull to prevent accelerator installation on certain widgets.

	* gtk/gtknotebook.c (gtk_notebook_menu_item_create): keep the menu
	labels left justified, by setting their alignment. stop accelerator
	installation for the menu items, since we use dynamic menus.

Wed Jun  3 06:41:22 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmenufactory.c: adaptions to use the new accel groups. people
	should *really* use GtkItemFactory. this is only for preserving source
	compatibility where possible, use of GtkMenuFactory is deprecated as of
 	now.

	* gtk/gtkobject.h (gtk_object_class_add_user_signal): new function
	to create user signals of type GTK_RUN_NO_RECURSE. don't know why i
	missed this possibility when i added gtk_object_class_add_user_signal
	in late january.

	* gtk/gtkmain.c (gtk_init): ignore subsequent function calls.

Sun May 31 07:31:09 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkaccelgroup.h: 
	* gtk/gtkaccelgroup.c: new implementation of the accelerator concept.

	* gtk/gtkaccellabel.h: 
	* gtk/gtkaccellabel.c: new widget derived from GtkLabel whitch features
	display of the accelerators associated with a certain widget.

	* gtk/gtkitemfactory.h: 
	* gtk/gtkitemfactory.c: new widget, item factory with automatic rc
 	parsing and accelerator handling.

	* gtk/gtkmenu.c (gtk_menu_reposition): new function to care for
	positioning a menu.
	(gtk_menu_map): removed the allocation code.
	(gtk_menu_size_allocate): care for redrawing of children and resize
	our widget->window correctly.
	(gtk_menu_key_press): feature the new accelerator groups.

	* gtk/gtkmenuitem.c (gtk_menu_item_size_allocate): reposition the
 	submenu if neccessary.

	* gtk/gtkmenuitem.c:
	* gtk/gtkcheckmenuitem.c:
	* gtk/gtkradiomenuitem.c: use GtkAccelLabel in the *_new_with_label()
 	function variants.

	* gdk/gdk.c:
 	(gdk_keyval_from_name): 
	(gdk_keyval_name): new functions for keyval<->key-name associations.
	(gdk_keyval_to_upper): 
	(gdk_keyval_to_lower): 
	(gdk_keyval_is_upper): 
	(gdk_keyval_is_lower): new functions to check/translate keyvalues with
 	regards to their cases.

Wed May 27 00:48:10 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkwidget.c (gtk_widget_class_path): new function to calculate a
	widget's class path.
	(gtk_widget_path): new function to calculate a widget's name path.

	* gtk/gtkrc.c: newly introduced GtkPatternSpec structures to speed up
	pattern matching, features reversed pattern matches.

Thu Jun  4 12:12:11 BST 1998  Tony Gale  <gale@gtk.org>

	* examples/extract.sh, examples/extract.awk:
	  New files to automagically extract code examples from the
	  tutorial.

Tue Jun  2 20:04:45 1998  Lars Hamann  <lars@gtk.org>

	* gtk/gtknotebook.c (gtk_notebook_page_select) (gtk_notebook_focus)
	* gtk/gtkcontainer.c (gtk_container_focus_move):
	reversed test sequence for GTK_WIDGET_CAN_FOCUS and GTK_IS_CONTAINER

Tue Jun  2 13:04:06 BST 1998  Tony Gale  <gale@gtk.org>

	* docs/gtk_tut.sgml: minor changes to support auto
	  extraction of example code

Mon Jun  1 12:47:56 BST 1998  Tony Gale  <gale@gtk.org>

	* docs/gtk_tut_it.sgml: Update of Italian Tutorial
	  to Tutorial of 24th May, from Daniele Canazza <dcanazz@tin.it>

Fri May 29 13:53:57 BST 1998  Tony Gale  <gale@gtk.org>

	* docs/gtk_tut.sgml:
	  - new section on Events
	  - change all delete_event callbacks to include
	    a GdkEvent parameter
	  - clean up the formatting

	* examples - helloworld.c, helloworld2.c, notebook.c,
	  packbox.c, pixmap.c, progressbar.c, radiobuttons.c,
	  rulers.c, table.c, wheelbarrow.c: change all delete_event
	   callbacks to include a GdkEvent parameter.

1998-05-26  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gdk/gdktypes.h (GdkCrossingMode): New enumeration for the "mode"
	field of crossing events.
	(struct _GdkEventCrossing): Added the following fields: time, x,
	y, x_root, y_root, mode, focus, state.

	* gdk/gdk.c (gdk_event_translate): Fill in the new fields of the
	crossing event structure.

	* gtk/gtkfeatures.h (GDK_HAVE_FULL_CROSSING_EVENT): Annotate
	changes to the crossing event structure.

Tue May 26 15:51:28 1998  Radek Doulik  <gis@academy.cas.cz>

	* gdk/gdk.c: include gdkx.h always (for GDK_ROOT_WINDOW)

Sun May 24 12:11:38 BST 1998  Tony Gale  <gale@gtk.org>

        * docs/gtk_tut.sgml:
           - GtkTooltips, update to current API
           - change all 'gpointer *data' to 'gpointer data'
           - other minor changes

Sat May 23 21:54:05 1998  Owen Taylor  <otaylor@gtk.org>

	* configure.in (LDFLAGS): Bomb out with a moderately
	  helpful message if detection of X libraries fails.

Sat May 23 18:57:06 1998  Owen Taylor  <otaylor@gtk.org>

  [ Combination of:
     gtk-rrh-980412-0.patch (Raja R Harinath <harinath@cs.umn.edu>)
     gtk-jbuhler-980516-0 (Jeremy Buhler <jbuhler@cs.washington.edu>) ]

	* gdk/gdk.h gdk/gdkcc.c gdk/gdkfont.c gtk/gtkmain.c
	  gtk/gtksignal.c gtk/gtktext.c: 

	  Fixups for warnings from adding const to type of GHashFunc,
	  GCompareFunc
	
	* gtk/gtkcombo.c (gtk_combo_entry_key_press): Minor style/
	  ansi-warnings fixups.

Sat May 23 17:48:58 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkeventbox.c (gtk_event_box_size_allocate): 
        Locate child at (border_width,border_width), not
	(2*border_width,2*border_width). [ The border is _outside_
	widget->window ]
	
	* gdk/gdk.[ch]: added gdk_screen_width_mm/gdk_screen_height_mm
	  functions. [From: Alexander Larsson <alla@lysator.liu.se> ]

1998-05-22  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gtk/gtkfeatures.h.in: Define GTK_HAVE_RC_SET_IMAGE_LOADER, to be
	used in gnome-libs

1998-05-22    <sopwith@redhat.com>

	* gtk/gtkeventbox.c: Pass size_allocate on to the child
	regardless of whether it is visible or not. Also
        locate child at (border_width,border_width), not (0,0)

Fri May 22 03:02:40 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkhandlebox.c: Added style_set handler.

Fri May 22 02:55:57 1998  Owen Taylor  <otaylor@gtk.org>
 [ From: Chris Lahey  <clahey@umich.edu> ]
	
	* gtk/gtkeditable.c, gtk/gtkeditable.h,
	  gtk/gtktext.c, gtk/gtkentry.c: Added get_position,
	  and set_position functions to get and set the cursor position.

        * gtk/gtkeditable.c: Restored "insert_text" and "delete_text" to
	  signal status. Make GtkText do user-controlled insertion
	  and deletion through the Editable widget so that these
	  signals are properly emitted.

	* gtk/gtkentry.c: Changed gtk_entry_set_visibility to 
	  display asterisks instead of empty space when visible = FALSE)

Fri May 22 08:51:10 CEST 1998  Paolo Molaro <lupus@debian.org>

	* gtk/gtkclist.c: use GTK_TYPE_GDK_EVENT in (un)?select_row
	signal.

1998-05-21    <sopwith@redhat.com>

	* gtk/gtkrc.[ch]: gtk_rc_set_image_loader() - allow apps to set a
	custom routine for loading images specified in gtkrc's.

Tue May 19 23:41:04 1998  Owen Taylor  <otaylor@gtk.org>

	* configure.in: Use pthread_attr_init() as a test function,
	since most of the rest of -lpthread is macros on DU4.

Tue, 19 May 1998 09:03:03 +0200  Paolo Molaro <lupus@debian.org>

	* gtk/gtkcombo.c: implemented completion in the entry.

1998-05-18    <sopwith@moebuis.labs.redhat.com>

	* gtk/gtk{debug.h,signal.c,main.c}: Allow GTK_DEBUG=signals

Mon May 18 04:01:41 1998  Tim Janik  <timj@gtk.org>

        * gtk/gtkwidget.c (gtk_widget_class_init): changed "proximity-in-event",
        "drop-data-available-event", "drop-enter-event" and "drop-leave-event"
        to be of runtype GTK_RUN_LAST.

        * gtk/gtkcontainer.c (gtk_container_class_init): likewise for
        "need-resize".

        * gtk/gtktipsquery.c (gtk_tips_query_class_init): likewise for
        "widget-selected".

Sat May 16 09:04:32 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkfilesel.c (gtk_file_selection_key_press): g_strdup() the
	text retrived from GtkEntry. only intercept the Tab key if there
	was some text to complete.

Fri May 15 21:16:54 1998  Owen Taylor  <otaylor@gtk.org>

	Basic thread-awareness:

	* acconfig.h configure.in: New option --with-threads=[yes/posix/no]

	* gdk/Makefile.am gdk/gdkthreads.c: Added new functions 
	gdk_threads_[init/enter/leave] for applications, plus
	gdk_threads_wake to wake the mainloop thread out of
	the select().

	* gtk/Makefile.am: gtk/testthreads.c: Test program for threads

Fri May 15 12:08:48 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/testgtk.c (list_clear): Account for the fact
	that gtk_list_clear_items is not inclusive. (Clears
	[start, end))

Fri May 15 12:31:27 1998  rodo  <doulik@karlin.mff.cuni.cz>

	* gdk/gdk.c: include gdkkeysyms.h always
	

Fri May 15 09:44:10 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkwidget.h (struct _GtkWidgetClass): corrected returntype of
	the visibility_notify_event method and changed method order.

1998-05-14    <sopwith@moebuis.labs.redhat.com>

	* gtk/gtkwidget.[ch] Added visibility_notify_event to GtkWidget

Thu May 14 03:04:43 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtk.defs: added GtkButtonBoxStyle and GtkOrientation definitions
	from Olli Helenius <ollhel@batman.jytol.fi>.

	* gtk/gtktypeutils.c (gtk_type_free): new function to take care about
	freeing types.
	(gtk_type_set_chunk_alloc): new function to allow allocation of new
 	types from a mem_chunk of certain size (n_chunks==0 indicates allocation
	thorugh g_malloc).

	* gtk/gtkobject.c (gtk_object_finalize): free an object through
 	gtk_type_free().

	* gtk/gtkbutton.c (gtk_button_get_type): set chunk preallocation for
	GtkButtons to 16.
	* gtk/gtkmenuitem.c (gtk_menu_item_get_type): likewise (16).
	* gtk/gtklabel.c (gtk_label_get_type): likewise (32).

Wed May 13 00:53:52 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtktypeutils.c gtk/gtksignal.c gdk/gdkdnd.c: A few more 
	  GPOINTER_TO_UINT fixes.

	* gtk/gtksignal.c: Include <string.h> for memset.

Tue May 12 23:10:53 1998  Owen Taylor  <otaylor@gtk.org>
	(Maximilian Bisani <bisani@kawo2.rwth-aachen.de>: gtk-bisani-980320-0)

	* gtk/gtkvruler.c gtk/gtkhruler.c gtk/gtkruler.h: 
	Cleanups, comments and the ability to have rulers with 
	a reversed direction.

Tue May 12 19:37:55 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkrc.c (gtk_rc_parse_file): Fixed up a stat()
	that Sopwith missed when changing stat => lstat.

Tue May 12 19:19:29 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkinputdialog.c gtk/gtkgamma.c gtk/gtkrc.c
	  gtk/gtkcolorsel.c gtk/gtkclist.c gtk/testgtk.c: Use
	GPOINTER_TO_INT/GINT_TO_POINTER macros where appropriate.

	* gdk/gdk.c: Print sizeof() results
	as g_print("%ld", (glong)sizeof(foo)), to deal with
	sizeof() being long on Alpha's.

	* gtk/testgtk.c: include <string.h> for strlen

Tue May 12 16:56:35 1998  Owen Taylor  <otaylor@gtk.org>
	(James A <jamesa@demon.net> : gtk-jamesa-980511-4.patch)
	
	* gtk/gtkbbox.h gtk/gtkcolorsel.h gtk/gtkvbbox.h:
	Changed #include "gtkfoo.h" to #include <gtk/gtkfoo.h>

	* gtk/gtkwindow.[ch]: Added const to gtk_window_set_wmclass

Tue May 12 15:16:10 1998  Owen Taylor  <otaylor@gtk.org>
	(From: Christopher James Lahey <clahey@umich.edu>)
	
	* gtk/gtkbutton.[ch] gtk/gtkenums.h gtk/gtktoolbar.[ch]
	  gtk/testgtk.c:

	Added 'relief' for buttons - they can be either GTK_RELIEF_NORMAL
	(old style), or GTK_RELIEF_NONE - no relief in the NORMAL
	state. Added gtk_toolbar_{set,get}_button_relief, which set/get
	the default relief for the toolbars buttons. Added an
	toggle for the toolbar test in testgtk.c.

Tue May 12 00:24:59 1998  Owen Taylor  <otaylor@gtk.org>

	* docs/gtk-config.1: Rewritten and hopefully improved.

Mon May 11 20:26:39 PDT 1998 Manish Singh <yosh@gimp.org>

	* docs/Makefile.am
	* docs/gtk-config.1: added man page for gtk-config by Ben Gertzfield

1998-05-11  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkpreview.c (gtk_preview_realize): Create the window using
	GtkPreview's visual and colormap, otherwise things can BadMatch.

	* gtk/testgtk.c (create_color_preview): 
	(create_gray_preview): Removed pushing/popping of visual/colormap
	now that GtkPreview does things correctly.

	* gtk/gtkcolorsel.c (gtk_color_selection_draw_wheel_frame): 
	(gtk_color_selection_draw_wheel): Pick the style from the correct
	place (the colorsel->wheel_area widget) so that the GCs will match
	with where we are going to paint to.

	* gtk/testgtk.c (create_color_selection): Removed pushing/popping
	of visual/colormap now that GtkColorSelection does things the
	right way.

Mon May 11 21:04:51 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkwindow.c (gtk_real_window_move_resize): Use the
	previously unused window->need_resize flag to mark if a window's
	descendents changed size while the window was not visible. In this
	case, when the window becomes visible, we reallocate everything,
	since we didn't keep track of what actually changed.

	(Fixes bug where changing the popdown strings of a
	combo to something of the same length caused them to
	blank out, as reported by Todd Dukes <tdukes@ibmoto.com>)

Tue May 12 02:31:57 1998  Tim Janik  <timj@gtk.org>

	[security audit by Alan Cox]

	* gtk/gtkobject.c (gtk_object_get_arg_type): check for arg_name to not
	exceed maximum assumed size.

	* gtk/gtkmenufactory.c (gtk_menu_factory_create): check that `path' does
	not exceed maximum assumed size.
	(gtk_menu_factory_remove): likewise.
	(gtk_menu_factory_find_recurse): likewise.

Mon May 11 23:53:38 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkwidget.c (gtk_widget_queue_resize): queue the idle_sizer with
	GTK_PRIORITY_INTERNAL - 1, so widgets get first resized and then
	redrawn if that is still neccessary. don't allow queueing of already
	destructed objects.
	(gtk_widget_idle_sizer): proccess the resize queue in a save manner, so
	widgets which are in the queue can be destroyed safely, handle
	requeueing properly.
	(gtk_widget_idle_draw): proccess the redraw queue in a save manner, so
	widgets which are in the queue can be destroyed/unrealized safely.

Mon May 11 17:54:44 BST 1998 Tony Gale	<gale@gtk.org>

	* gtkfaq.sgml: add question on multi-threading,
	  minor URL cleanups.

Mon May 11 09:56:45 1998  Tim Janik  <timj@gtk.org>

	* configure.in (cflags_set): preserve automake CFLAGS.

	* Makefile.am: fully rename the created libraries to libgtk-1.1.la
	and libgdk-1.1.la. this means we need to change certain portions of
	the Makefile.am on major/minor version bumps.

	* ltmain.sh: the -release option is not required anymore.
	
	* gtk/gtkobject.h (gtk_trace_referencing): compile time check the type
	of the first argument to be of type GtkObject. unconditionally compile
	this function. removed __GNUC__ dependancy of the gtk_object_ref and
	gtk_object_unref macro wrappers for this function.

Mon May 11 02:31:19 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkobject.h:
	* gtk/gtkobject.c:
	(gtk_object_data_try_key):
	(gtk_object_data_force_id): these are now macros substituting the old
	functions. we just use the corresponding g_dataset_* functions for
	key->id associations. (this is to assure unique key<->id associations).

1998-05-10  Stefan Jeske  <stefan@gtk.org>

	* gtk/gtkctree.c (gtk_ctree_is_visible): Changed return value
	to gboolean.

	* docs/gtk.texi (GtkCTree): Started documentation of GtkCTree.

Sat May	 9 20:11:20 1998  Owen Taylor  <otaylor@gtk.org>

	* configure.in (LIBS): Try to figure out if this
	is Digital Unix and we need -std1 to get the
	right prototypes.

Sat May	 9 16:30:33 BST 1998 Tony Gale	<gale@gtk.org>

	* docs/gtk_tut_it.sgml: update of Italian tutorial
	  translation from Daniele Canazza <dcanazz@tin.it>

Sat May	 9 02:34:41 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkfeatures.h.in: new file used as template for
	* gtk/gtkfeatures.h: new file to define macros indicating newly
	introduced features, such as GTK_HAVE_SIGNAL_INIT.

	* gtk/gtksignal.c:
	(gtk_signal_emitv_by_name):
	(gtk_signal_emitv):
	new functions to emit signals with an already provided parameter set.
	(provided by Kenneth Albanowski <kjahds@kjahds.com>).
	(gtk_signal_real_emit): prototype changes, so this functions always
	gets its parameters and signal structure as arguments.
	(gtk_signal_emit): provide the signal structure and parameter list for
	gtk_signal_real_emit.
	(gtk_signal_emit_by_name): likewise.

Sat May	 9 00:03:12 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtksignal.c (gtk_signal_handler_unref): reflect the presence of
	signal connections through unsetting GTK_CONNECTED.
	(gtk_signal_handler_insert): reflect the presence of signal connections
	through setting GTK_CONNECTED.
	(gtk_signal_real_emit): only check for handler emissions if the object
	has the GTK_CONNECTED flag set.
	(gtk_signal_handler_pending): don't check for pending handlers if the
	GTK_CONNECTED flag is not set for this object.

	* gtk/gtkobject.h (enum): new flag GTK_CONNECTED to indicate whether
	a GtkObject has signal handler connections.

	* gtk/gtkobject.c (gtk_object_real_destroy): only if GTK_CONNECTED is
	set for this object call gtk_signal_handlers_destroy().
	
	* gtk/gtktypeutils.h (GTK_TYPE_IS_A): deprecated macro, since it caused
	multiple processing of macro args.

	* gtk/gtktypeutils.c:
	* gtk/gtkobject.c:
	* gtk/gtkwidget.c:
	* gtk/gtksignal.c: reverted GTK_TYPE_IS_A back to gtk_type_is_a.

Fri May  8 21:31:50 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkwidget.c (gtk_widget_queue_draw): Free the
	draw-queue when we are done. 

	(gtk_widget_queue_draw/_queu_resize): Always return
	FALSE and avoid having two idles at the same time.
	
Fri May  8 21:04:00 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtktext.c: Various fixes to make sure cache
	lines are freed if line_start_cache doesn't point to the
	beginning of the cache.

Thu May  7 09:44:22 1998  Owen Taylor  <otaylor@gtk.org>

	* style_set improvements for GtkText and GtkEntry

Thu May  7 19:03:50 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtktypeutils.c (gtk_type_unique): asure that the type system has
	been initialized.

Thu May  7 12:52:45 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkobject.c (gtk_object_set_data_by_id_full): allocate object
	data chunks through a global object data structure list. unlink
	object data before invoking its destroy function.
	(gtk_object_finalize): slight modification to allow usage of object
	data during object finalization.

Thu May  7 10:29:24 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtksignal.c (gtk_signal_newv): suport middle dashes ('-') in
	signal names, e.g. "signal-name" is now an alias for "signal_name".
	(gtk_signal_handler_new): allocate handlers through a global handler
	structure list, that's faster than memchunks.
	(gtk_emission_new): allocate emissions through a global emission
	structure list, that's faster than memchunks.

Thu May  7 05:14:19 1998  Tim Janik  <timj@gtk.org>

	* gtk-config.in (--libs): postfix -lg* libraries with LT_RELEASE.

	* ltmain.sh: added a new commandline flag -postfix similar to -release,
 	but will immediately change the library name.

	* gdk/Makefile.am:
	* gtk/Makefile.am: specify -postfix and -version-info

	* configure.in: version bump to 1.1.0. added GTK_INTERFACE_AGE and
	GTK_BINARY_AGE. calculate LT_* variables for libtool.

1998-05-06  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkclist.c (draw_row): Fixed incorrect painting of row
	background (fg_set -> bg_set confusion).

1998-05-06  Stefan Jeske  <stefan@gtk.org>

	* gtk/testgtk.c (unselect_all): Removed code that caused an
	endless loop.

Wed May  6 02:16:34 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtksignal.c: reimplemented the signal storage system to use a
	linear array rather than a hash table.
 	be carefull *not* to keep any GtkSignal pointers across invokations
 	of gtk_signal_next_and_invalidate() and therefore gtk_signal_new[v]().
	general code cleanups, made all allocations through memchunks.
	(gtk_signal_lookup): we now do the lookup of signals through a key_id
	for the signal names to avoid multiple hashing of the signal name on
	lookups for the several hirarchy levels of an object.

Tue May  5 19:49:27 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkpixmap.c: Patches from Gordon Matzigkeit
	to speed things up and remove code duplication.

	Reintegrated buffer overflow patches, and added
	some extra paranoia.
	
Tue May  5 17:04:14 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdk.c (gdk_event_translate): A guint * was
	being passed where X expected a Keysym *, and
	keysyms are long's on Alpha Linux. This was causing
	segfaults in Xlib, apparently because of alignment.
	(Bug located by Juergen Haas <haas@forwiss.uni-passau.de>)
	
Tue May  5 19:11:27 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkdrawingarea.c (gtk_drawing_area_realize): Always
	set GDK_EXPOSURE_MASK for DrawingAreas

Tue May  5 14:32:37 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkwidget.[ch]: removed gtk_widge_propagate_default_style
	(superceded by RC file reparsing capabilities)

	* gtk/gtkwindow.c: Add handling for _GDK_READ_RFCILES client
	events. (Shouldn't be sent to the InputOnly leader, which
	it is now by gdk_event_send_clientmessage_toall

	* gtk/testgtk.c: Added extra button to rcfiles test
	to send out _GDK_READ_RCFILES events.
	
Tue May  5 11:03:00 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkselection.c (gtk_selection_clear): Fixed
	reversed conditionals that caused segfault on some
	platforms.

Tue May  5 00:44:47 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkcontainer.c (gtk_container_set_focus_[hv]adjustment):
	cast to GTK_OBJECT for gtk_object_ref.

Tue May  5 15:33:27 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c (gtk_init): added gtk_signal_init() to avoid repeatedly
	checking for signal initialization in gtksignal.c.

	* gtk/gtktypeutils.c (TYPE_NODES_BLOCK_SIZE): reseted this to 200 after
	a long debugging period ;)

1998-05-05  Stefan Jeske  <stefan@gtk.org>

	* gdk/gdkgc.c gdk/gdk.h gtk/gtkctree.c (gdk_gc_set_dashes):
	New function to wrap XSetDashes; modified gtkctree.c to use it.

1998-05-04  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* configure.in: Added $x_libs in the other_libraries field in the
	check for XShapeCombineMask.

Mon May  4 00:30:11 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtktypeutils.h (GTK_TYPE_IS_A): new macro to speedup
 	gtk_type_is_a().
 	* gtk/gtktypeutils.c: reimplemented the type storage system to use a
	linear array rather than a hash table. it actually speeded up testgtk
	for a *considerable* amount. be carefull *not* to keep any GtkTypeNode
 	pointers across invokations of gtk_type_node_next_and_invalidate() and
 	therefore gtk_type_unique()!

	* gtk/gtkobject.h (GTK_IS_OBJECT_CLASS): new macro to test for the
	inheritance of a class pointer.
	(GTK_OBJECT): modifications for speedups.
	(GTK_IS_OBJECT): likewise.
	(GTK_OBJECT_CLASS): likewise.
	(suggested by owen).

	* gtk/gtkcontainer.h (GTK_IS_CONTAINER_CLASS): new macro.

	* gtk/gtkwidget.h (GTK_IS_WIDGET_CLASS): new macro.

	* gtk/gtk.defs (GtkTooltips): define GtkTooltips as object not as boxed,
	since its derivation changed 4 month ago ;(. showed up with the unique
	type name checking code in gtk_type_unique().

	* random guint->GtkType and macro fixups.

Sat May  2 23:14:34 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkcurve.c (gtk_curve_graph_events): Ignore
	Configure events that would result in a negative
	size.

Sun May  3 14:55:34 1998  Owen Taylor  <otaylor@gtk.org>

	* docs/gtkfaq.sgml (CPPFLAGS): Added a FAQ entry about
	"glibconfig.h" and another about writing another IRC
	client.

Sat May  2 00:14:05 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkpreview.c (gtk_trim_cmap): Make sure the
	parameters to log are doubles. Digital Unix apparently
	is missing the argument in its prototype.

Sun May  3 19:04:46 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtklabel.c (gtk_label_state_changed): Don't
	force a clear until the widget is actually on
	screen.

Sun May  3 21:32:35 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdk.c (gdk_event_translate): Grab with OwnerEvents = False
	to make this consistent with the gtk-1-0 tree.

Sun May  3 13:38:22 1998  Owen Taylor  <otaylor@gtk.org>

	* configure.in acheader.h gdk/gdkwindow.c 
	Check for Shape extension both on the client and server
	side. (And, more importantly, check for the shape extension
	so we may include -lXext even when compiling with --disable-xshm)

	Don't set override_redirect on all shaped windows. It isn't
	necessary.

	* gdk/gdkwindow.c: Set ->colormap to NULL for root 
	and foreign windows. Use this to check if we
	need to get the colormap from X.

Fri May  1 22:32:47 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkbutton.c (gtk_button_paint): Draw the areas
	between the default and the button always in GTK_STATE_NORMAL.

	* gtk/gtkrange.c (gtk_range_style_set): Added a style_set
	callback.

Fri May  1 16:40:57 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkpixmap.c (gdk_pixmap_colormap_create_from_xpmp[_d]):
	  Fix a buffer overflow on pixmaps that claim to have
	  more than 31 characters per pixel.

	  (gdk_pixmap_read_string): Don't wrap around strings longer
 	  than half of address space ;-)

	* gtk/gtk[vh]ruler.c gtk/gtkinputdialog.c: Expand some buffers
	that were used for printing integers.

	* */* (almost):

	Style: All 
	  int foo () { ... }
	changed to
	  int foo (void) { ... }

	Even where there were proper prototypes elsewhere.

	* gdk/gxid.c (handle_claim_device): Some extra checks.
	It isn't safe against being fed bad X id's, but at
	least it should be safe against deleting all your
	files.

Sun May  3 19:45:09 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkadjustment.c (gtk_adjustment_assimilate_value): new function
	to set the adjustments value when there is no current emission.
	[ Removed by mutual agreement owt 5/3/1998 ]

	* gtk/gtksignal.c: added new functions to retrive the number of
	existing emissions for a certain signal.
 	(gtk_signal_n_emissions): new function.
	(gtk_signal_n_emissions_by_name): new function.

Sun May  3 16:55:43 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcontainer.c (gtk_container_set_focus_child): new function to
	set the current focus_child of a container, does proper referencing and
	adjusts the vadjustment/hadjustment associated with the focus widget.

	* gtk/gtkwidget.c (gtk_widget_grab_focus): set the focused child on
	containers via gtk_container_set_focus_child.

	* gtk/gtknotebook.c: modifications to use gtk_container_set_focus_child
 	where appropriate.

	* gtk/gtkcontainer.c (gtk_container_remove): removed unsetting of focus
 	child since not every child removal goes through this function (this
	showed up after gtk_container_set_focus_child() started to reference the
 	focus_child of a container).

	* gtk/gtkwidget.c (gtk_widget_unparent): moved unsetting the focus_child
	of a container from gtk_container_remove into this place.

Sat May  2 22:33:45 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtksignal.c: added new functions to operate on intermediate
 	function pointers. implemented incremental blocking.
	(gtk_signal_disconnect_by_func): new function.
	(gtk_signal_handler_block_by_func): new function.
	(gtk_signal_handler_unblock_by_func): new function

Fri May  1 22:45:55 1998  Owen Taylor  <otaylor@gtk.org>

        * gtk/gtkscrolledwindow.c (gtk_scrolled_window_size_allocate):
        Always show the scrollbars when the policy is
        GTK_POLICY_ALWAYS...

Sat May  2 20:19:03 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkadjustment.c (gtk_adjustment_set_value): only emit
 	"value_changed" if we really passed a new value.
	(gtk_adjustment_changed): new function to emit the "changed" signal.
	(gtk_adjustment_set_value): new function to emit the "value_changed"
	signal.

Fri May  1 12:28:35 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkcombo.c: Further changes to the way the window
	is popped up so that it will be compatible with 
	auto-scrolling in the future.

Fri May  1 20:25:29 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkcombo.c (gtk_combo_popup_list): do not just return if
	the combo-list is empty since that will cause the combo to operate
	on a non existing GtkList window.
	(gtk_combo_get_pos): provide the combo list with a usfull default
 	height if empty.
	(gtk_combo_popup_button_press): grab the focus.
	(gtk_combo_activate): grab the focus.

Fri May  1 12:06:43 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkwindow.[ch] (gtk_widget_reset_rc_styles): New
	function to reset the RC styles for a heirarchy

        Clear the window background if necessary in
	gtk_window_style_set.

	* gtk/gtkrc.[ch]: New function gtk_rc_reparse_all() which
	rereads all previously read RC files.

	* gdk/gdkwindow.c gdk/gdk.h: New function gdk_window_get_toplevels().
	(Should it just be called gdk_get_toplevels?)

	* gtk/testgtk.c: New test to reload RC files.

Fri May  1 13:57:36 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkclist.h:
	* gtk/gtkclist.c: prefixed all clist flags with GTK_ to avoid name
 	clashes. redefined GTK_CLIST_SET_FLAGS and GTK_CLIST_UNSET_FLAGS as
	GTK_CLIST_SET_FLAG and GTK_CLIST_UNSET_FLAG to automatically add
	the GTK_ prefix (this solution involved less changes in the
 	gtkclist.c code). added a GTK_CLIST_CONSTRUCTED flag to substitute
	the mem_chunk==NULL test in gtk_clist_construct. merged in changes
	from lars & stefan to support the derivation of GtkCtree.

	* gtkctree.h:
	* gtkctree.c:
	initial import of a tree widget derived from gtkclist, courtesy
	of Lars Hamann <lars@gtk.org> and Stefan Jeske <jeske@gtk.org>,
	it just damn rocks!

Fri May  1 10:05:44 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtklist.c (gtk_list_add): let gtk_list_append_items do the work
	for us.
	(gtk_list_insert_items):
	(gtk_list_remove_items_internal): 
	(gtk_list_clear_items): 
 	remove a possible pointer grab, we might get thrown into a loop
	otherwise.
	(gtk_list_button_press): grab the pointer *before* selecting the child,
	because selection of items may cause the lists children to change,
 	resulting in a grab release.
	(gtk_list_clear_items): use gtk_list_unselect_child() for unselection of
	children.
	(gtk_list_shutdown): remove all children from the list.
	(gtk_real_list_unselect_child): 
	(gtk_real_list_select_child): *always* put our internal structures into
 	sane state *before* signal emisions (i.e. list->selection updates prior
 	to gtk_list_item_[de]select() calls).

	* gtk/gtkcombo.c (gtk_combo_init): adjust the scrollbar if the lists
	focused child walks out of the window.
	removed CAN_FOCUS for the combo arrow's button since it doesn't react
	to keyboard events ("clicked" connection is missing).

Fri May  1 00:42:25 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkwindow.c (gdk_window_get_colormap): Fix up
	getting colormap for FOREIGN windows to go along with
	Raster's fix for visuals.

Merges from gtk-1-0
===================
	
Thu Apr 30 23:32:51 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkscrolledwindow.c (gtk_scrolled_window_size_allocate):
	Check to catch the case when the viewport fits in either
 	direction or both, instead of flip-flopping infinitely.

	Only show/hide the scrollbars once at the end.

Thu Apr 30 21:56:07 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkscrolledwindow.c (gtk_scrolled_window_foreach): 
	Include the scrollbars in the foreach call.
	(gtk-fortier-980405-0.patch; 
 	 Patrice Fortier <Patrice.Fortier@aquarel.fr>). 

	The notebook widget
	really should also include its tabs, but that might cause
	problems for programs if they

Thu Apr 30 21:51:52 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkpixmap.c (gtk_pixmap_set): Only request a
	resize if the size actually changed. 
	(gtk-johannes-980414-0.patch ;	
	 johannes@nada.kth.se (Johannes Keukelaar) )

Thu Apr 30 10:22:59 1998  Owen Taylor  <otaylor@gtk.org>

	* glib/ltmain.sh glib/ltconfig glib/config.sub glib/config.guess:
	  ltmain.sh ltconfig config.sub config.guess:

	Reverted back to libtool-1.2 (plus minor patches) so as not to
	force the issue for everyone else.

Thu Apr 30 10:22:59 1998  Owen Taylor  <otaylor@gtk.org>

	* glib/ltmain.sh glib/ltconfig glib/config.sub glib/config.guess:
	Updated to libtool 1.2a.

	* gtk/gtkclist.c: Draw the in-between lines with style->base
	instead of style->white.
	
Wed Apr 29 15:46:13 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/gdkprivate.h gdk/gdkwindow.c gdk/gdkpixmap.c: 
	Cache the colormap and children of a window locally
	instead of fetching them from the server when needed.
	Huge performance difference for creating/destroying
	windows.

	* gtk/gtkstyle.c: Find the depth from the cached
	visual, instead of asking the server.

	* gtk.m4: Distribute the new version which tries to
	figure out what went wrong and give helpful error
	messages.

	* ltmain.sh ltconfig config.sub config.sh: 
	Updated to libtool 1.2a

	* gtk/gtktext.c: Fixed a bug where the drawn level
	was being messed up when the text was scrolled
	during a deletion.
	
Thu Apr 30 02:42:11 PDT 1998 Manish Singh <yosh@gimp.org>

	* gtk/gtkfilesel.c: don't die when naughty people remove parts of
	the filesystem under you (fix from Josh)

Thu Apr 30 09:49:14 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkscrolledwindow.c (gtk_scrolled_window_foreach): check
	if the viewport already exists before iterating over it, maybe we
	haven't been constructed yet.

Thu Apr 30 01:51:00 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkbin.c (gtk_bin_add): made this function issue a warning if
	the GtkBin widget already has a child.

	* gtk/gtkbox.c (gtk_box_pack_{start|end}):
 	check that child->parent == NULL;

Tue Apr 28 22:13:54 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkselection.c (gtk_selection_clear): Only return
	FALSE when the clear event is been rejected, not when
	widget has already lost the selection. (Which should
	only happen when we are setting the selection to another
	widget ourself.)
	
Fri Apr 24 19:07:32 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkfixed.c gtk/gtkpaned.c gtk/gtktable.c:

	Removed the "check visibility after gtk_widget_unparent" bug 
	in hopefully the last three places.

Tue Apr 28 15:46:41 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkrc.c (gtk_rc_parse_statement): allow the inclusion of other
	rc-files.

Mon Apr 27 15:11:52 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkwidget.c (gtk_widget_grab_focus): only allow grabbing of focus
	for CAN_FOCUS widgets.

	* gtk/testgtk.c (create_scrolled_windows): feature h/v focus
	adjustments for the table.
	(create_list): feature automatic adjustment of the scrolled window to
	always contain the focused child.
	(create_main_window): keep the focussed button always inside of the
	scrolled windoww.

	* gtk/gtkcontainer.c (gtk_real_container_focus): set the h/v focus
	adjustments, to contain the allocation of the currently focused child.
	(gtk_container_set_focus_hadjustment): new functin to set the
 	horizontal focus adjustment.
	(gtk_container_set_focus_vadjustment): new functin to set the vertical
 	focus adjustment.

	* gtk/gtkadjustment.c (gtk_adjustment_clamp_page): new fucntion to
 	clamp the currents adjustment page into a specific range.

	* random GtkType fixups for gtk_*_get_type() functions.

Fri Apr 24 18:37:16 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtktreeitem.c (gtk_tree_item_remove_subtree): 
	Account for the fact that gtk_tree_item_remove_subtree
	will be called recursively. 

	Handle removing a collapsed subtree.

	(From Andy Dustman <adustman@comstar.net>)
	
	* gtk/gtktree.c (gtk_tree_remove_items): Look for the
	root tree when removing items from a non-previously
	mapped tree.

	* gtk/testgtk.c: Added a remove_subtree button.
	
Thu Apr 23 23:44:17 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkobject.c (gtk_object_finalize): Notify all weak references
	before object removing data. This change fixes a bug where 
	removing the last weak references would cause it to be 
	triggered.

Wed Apr 15 20:42:46 1998  Owen Taylor  <otaylor@gtk.org>

	* gdk/Makefile.am: Removed mostly useless dependency that
	was causing problems for SGI's make, when used with
	the 'make dist' form of GTK+. (Dependency caused dependencies
        to be redone when BUILT_SOURCES changed)

Thu Apr 30 11:18:00 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtkcombo.[ch]: Allow the user to use the popup list
	like a menu.
	
	* gtk/gtkmenuitem.c gtk/gtkitem.c: Moved enter/leave handlers
	to gtkitem.c so dragging can also work in lists.

	* gtk/gtklist.[ch]: Track child enter events and use
	those to allow dragging the selection. 

Thu Apr 30 11:16:06 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtktext.c: Try enabling background pixmaps for editable text
	widgets.  There is a bit of flashing, but not too bad. If you
	don't want the flashing, you can always not set a background
	pixmap.

Wed Apr 29 15:46:13 1998  Owen Taylor  <otaylor@gtk.org>

	* gtk/gtktext.c: Fixed a bug where the drawn level
	was being messed up when the text was scrolled
	during a deletion.
	
1998-04-28  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gdk/gdk.c (gdk_event_translate): Random debugging fixed this
	bug:  There is no need to set the ExposureMask in the XGrabPointer
	(this caused DnD programs to crash).

Fri Apr 24 01:29:04 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkaccelerator.h (struct _GtkAcceleratorTable): changed ref_count
	field to be of type guint.
	* gtk/gtkaccelerator.c (gtk_accelerator_table_unref): added check for
	ref_count>0;
	(gtk_accelerator_table_install): keep a per object list of accelerator
	tables that refer to this object.
	(gtk_accelerator_table_remove): remove the accelerator table from the
	per object list.
	(gtk_accelerator_table_clean): warn if there are any object references
 	left in an accelerator table upon destruction.
	(gtk_accelerator_tables_delete): new function to delete object
	references from the accelerator tables associated with this object.

	* gtk/gtkwidget.c (gtk_widget_class_init): changed emission of
	GtkWidget::install_accelerator to GTK_RUN_LAST so the installation
	of an accelerator can be prevented by gtk_signal_emit_stop().
	(gtk_widget_real_destroy): call gtk_accelerator_tables_delete (),
	so there are no stale pointers in accelerator tables left.

1998-04-22  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* gtk/gtkbin.c (gtk_bin_remove): Remember whether the widget was
	visible before we unparent it.

Wed Apr 22 04:15:26 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkmain.c (gtk_handle_current_timeouts): prepend the
 	running_timeouts list with the tmp_list link itself, not with a new
	GList structure pointing to our link. that would fill up memory and
	causes the GList.data fields of the running_timeouts list to point to
	GList structures and not GtkTimeoutFunction structures which is a
 	*really* bad thing.
	(gtk_handle_current_idles): likewise (exchange "timout" with "idle" in
	the above entry ;).

Sat Apr 18 22:18:12 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtkradiomenuitem.h: 
	* gtk/gtkradiomenuitem.c (gtk_radio_menu_item_set_group): new function
	ala gtk_radio_button_set_group.
	(gtk_radio_menu_item_init): assure that we always have at least a group
	that points to self.

	* gtk/gtkradiobutton.c (gtk_radio_button_set_group): few cleanups and
 	added g_return_if_fail() statements.
	(gtk_radio_button_init): assure that we always have at least a group
	that points to self.

Fri Apr 17 03:05:05 1998  Tim Janik  <timj@gtk.org>

	* ChangeLog split up into ChangeLog.pre-1-0 and ChangeLog.

Wed Apr 15 05:13:09 1998  Tim Janik  <timj@gtk.org>

	* gtk/gtklabel.c (gtk_label_size_request): corrected a brace position
	(Damon Chaplin), which i got wrong when applying Damon's patch the last
 	time.

Wed Apr 15 20:42:46 1998  Owen Taylor  <otaylor@gtk.org>

        * gtk/gtkpreview.c (gtk_preview_get_visuals): Make sure
        that when we are running with a non-installed colormap,
        in 8-bit pseudo-color, we actually are using the system
        visual. (Fixes *Bad Match* errors on Digital Unix machines
        with multiple 8-bit pseudo-color visuals)

1998-04-14  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gdk/gdkwindow.c (gdk_window_xid_at): Fix the problem introduced
	by whoever thought that randomly changing ints to unsigned int
	without reviewing the code was a good idea.  It is, btw not
	mentioned in the ChangeLog as usual, but I know it was not Elliot
	the culprit this time. 

Mon Apr 13 19:16:22 PDT 1998 Shawn T. Amundson <amundson@gtk.org>

	* Released GTK+ 1.0.0
